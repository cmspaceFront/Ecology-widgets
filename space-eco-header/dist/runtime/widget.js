System.register(["jimu-core","jimu-core/react","jimu-core/react-dom"],(function(e,t){var o={},a={},r={};return{setters:[function(e){o.React=e.React,o.jsx=e.jsx,o.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){a.default=e.default,a.memo=e.memo,a.useCallback=e.useCallback,a.useEffect=e.useEffect,a.useMemo=e.useMemo,a.useRef=e.useRef,a.useState=e.useState},function(e){r.createPortal=e.createPortal}],execute:function(){e((()=>{var e={9288:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var a=o(8081),r=o.n(a),n=o(3645),i=o.n(n)()(r());i.push([e.id,'.export-modal-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5);backdrop-filter:blur(12px);z-index:2147483647 !important;isolation:isolate;animation:overlayFadeIn .3s ease-out}@keyframes overlayFadeIn{from{opacity:0}to{opacity:1}}.export-modal{width:620px;max-width:95vw;padding:24px 28px 28px;border-radius:20px;border:1px solid rgba(255,255,255,.12);background:linear-gradient(135deg, rgba(16, 28, 50, 0.75) 0%, rgba(30, 41, 59, 0.65) 50%, rgba(16, 28, 50, 0.75) 100%);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);color:#e2e8f0;box-shadow:0 32px 64px -16px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.05) inset,0 -1px 0 0 rgba(255,255,255,.1) inset;font-family:"Geologica",Inter,-apple-system,sans-serif;display:flex;flex-direction:column;z-index:2147483647 !important;position:relative;animation:modalSlideIn .4s cubic-bezier(0.16, 1, 0.3, 1);overflow:visible}.export-modal::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0.2) 80%, transparent 100%);pointer-events:none;z-index:0}.export-modal::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 50% 0%, rgba(20, 135, 197, 0.08) 0%, transparent 60%);pointer-events:none;z-index:-1;border-radius:20px}@keyframes modalSlideIn{from{opacity:0;transform:translateY(-20px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}.export-modal--large{width:680px}.export-modal--result{width:380px;padding:28px;text-align:center}.export-modal__header{display:flex;justify-content:center;align-items:center;position:relative;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(255,255,255,.08);z-index:100}.export-modal__title{font-size:20px;font-weight:600;color:#fff;text-align:center;letter-spacing:.3px}.export-modal__close{position:absolute;right:-4px;top:25%;transform:translateY(-50%);background:rgba(255,255,255,.05);border:none;color:rgba(148,163,184,.8);font-size:28px;font-weight:300;cursor:pointer !important;line-height:1;width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease;z-index:100;pointer-events:auto !important}.export-modal__close:hover{color:#fff;background:rgba(255,255,255,.15)}.export-modal__close:active{background:rgba(255,255,255,.2);transform:translateY(-50%) scale(0.95)}.export-modal__body{display:flex;flex-direction:column;gap:16px;overflow:visible;position:relative}.export-modal__row{display:flex;flex-direction:column;gap:8px;overflow:visible}.export-modal__row--half{display:grid;grid-template-columns:1fr 1fr;gap:16px;overflow:visible}.export-modal__field{display:flex;flex-direction:column;gap:8px;overflow:visible;position:relative}.export-modal__label{font-size:14px;color:rgba(148,163,184,.9);font-weight:500;letter-spacing:.2px;text-transform:uppercase}.export-modal__input{padding:10px 14px;border:1px solid rgba(255,255,255,.08);border-radius:10px;background:rgba(30,41,59,.5);color:#e2e8f0;outline:none;font-size:13px;line-height:1.4;height:40px;font-family:inherit;transition:all .2s ease}.export-modal__input::placeholder{color:rgba(148,163,184,.5)}.export-modal__input:hover{border-color:rgba(255,255,255,.15);background:rgba(30,41,59,.6)}.export-modal__input:focus{background:rgba(30,41,59,.7);border-color:rgba(20,135,197,.5);box-shadow:0 0 0 3px rgba(20,135,197,.15)}.export-modal__format-group{display:grid;grid-template-columns:1fr 1fr;gap:10px;position:relative}.export-modal__format-btn{display:flex;align-items:center;justify-content:center;gap:10px;padding:12px 16px;border:1px solid rgba(255,255,255,.08);border-radius:10px;background:rgba(30,41,59,.4);color:rgba(226,232,240,.6);font-size:14px;font-weight:500;font-family:inherit;cursor:pointer !important;transition:background .15s ease,border-color .15s ease,color .15s ease,transform .15s ease;position:relative;pointer-events:auto !important}.export-modal__format-btn::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.03) 100%);opacity:0;transition:opacity .2s ease;pointer-events:none}.export-modal__format-btn:hover{background:rgba(30,41,59,.6);border-color:rgba(255,255,255,.15);color:#e2e8f0;transform:translateY(-2px);box-shadow:0 8px 20px -8px rgba(0,0,0,.3)}.export-modal__format-btn:hover::before{opacity:1}.export-modal__format-btn--active{background:linear-gradient(135deg, rgba(20, 135, 197, 0.25) 0%, rgba(1, 26, 254, 0.2) 100%);border-color:rgba(20,135,197,.5);color:#fff;box-shadow:0 0 20px -5px rgba(20,135,197,.3),0 0 0 1px rgba(20,135,197,.2) inset}.export-modal__format-btn--active:hover{background:linear-gradient(135deg, rgba(20, 135, 197, 0.35) 0%, rgba(1, 26, 254, 0.3) 100%);border-color:rgba(20,135,197,.7);box-shadow:0 0 25px -5px rgba(20,135,197,.4),0 0 0 1px rgba(20,135,197,.3) inset}.export-modal__format-btn svg{flex-shrink:0;opacity:.8;transition:opacity .2s ease}.export-modal__format-btn:hover svg,.export-modal__format-btn--active svg{opacity:1}.export-modal__dropdown{position:relative;width:100%;z-index:1}.export-modal__dropdown--open{z-index:99999}.export-modal__dropdown-trigger{width:100%;padding:12px 16px;padding-right:44px;border:1px solid rgba(100,120,150,.4);border-radius:10px;background:#1e293b;color:#e2e8f0;outline:none;font-size:14px;line-height:1.4;min-height:46px;height:auto;font-family:inherit;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .2s ease;text-align:left;position:relative}.export-modal__dropdown-trigger:hover{background:#263549;border-color:rgba(100,120,150,.6)}.export-modal__dropdown-trigger:focus,.export-modal__dropdown-trigger--open{background:#263549;border-color:#1487c5;box-shadow:0 0 0 3px rgba(20,135,197,.25)}.export-modal__dropdown-value{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:8px}.export-modal__dropdown-chevron{position:absolute;right:16px;top:50%;transform:translateY(-50%);pointer-events:none;color:#94a3b8;transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);flex-shrink:0}.export-modal__dropdown-chevron--open{transform:translateY(-50%) rotate(180deg);color:#1487c5}.export-modal__dropdown-menu{position:absolute;top:calc(100% + 4px);left:0;right:0;z-index:2147483647;background:#1e293b;border-radius:10px;border:1px solid rgba(100,120,150,.4);box-shadow:0 16px 40px -8px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.05) inset;overflow:hidden;animation:exportDropdownFadeIn .25s cubic-bezier(0.16, 1, 0.3, 1)}@keyframes exportDropdownFadeIn{from{opacity:0;transform:translateY(-10px) scale(0.98)}to{opacity:1;transform:translateY(0) scale(1)}}.export-modal__dropdown-list{list-style:none;margin:0;padding:6px;max-height:280px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#1487c5 #1e293b}.export-modal__dropdown-list::-webkit-scrollbar{width:8px}.export-modal__dropdown-list::-webkit-scrollbar-track{background:#151d2b;border-radius:4px;margin:6px 0}.export-modal__dropdown-list::-webkit-scrollbar-thumb{background:#1487c5;border-radius:4px}.export-modal__dropdown-list::-webkit-scrollbar-thumb:hover{background:#1699dc}.export-modal__dropdown-item{padding:12px 14px;color:#e2e8f0;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:10px;border-radius:8px;transition:all .15s ease;font-size:14px;font-family:inherit;margin:2px 0;background:rgba(0,0,0,0)}.export-modal__dropdown-item:hover{background:#334155;color:#fff}.export-modal__dropdown-item--selected{background:#1487c5;color:#fff;font-weight:500}.export-modal__dropdown-item--selected:hover{background:#1699dc;color:#fff}.export-modal__dropdown-item-text{flex:1;line-height:1.4}.export-modal__dropdown-check{color:#fff;flex-shrink:0;width:18px;height:18px;animation:checkPop .2s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes checkPop{from{transform:scale(0)}to{transform:scale(1)}}.export-modal__footer{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:24px;padding-top:20px;border-top:1px solid rgba(255,255,255,.06);position:relative;z-index:100}.export-modal__cancel,.export-modal__submit{padding:14px 24px;border-radius:10px;border:none;cursor:pointer !important;color:#fff;font-size:15px;font-weight:600;font-family:inherit;letter-spacing:.3px;transition:transform .15s ease,box-shadow .15s ease;overflow:hidden;position:relative;z-index:1;pointer-events:auto !important}.export-modal__cancel::before,.export-modal__submit::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 50%);opacity:0;transition:opacity .2s ease;pointer-events:none}.export-modal__cancel:hover::before,.export-modal__submit:hover::before{opacity:1}.export-modal__cancel:disabled,.export-modal__submit:disabled{opacity:.5;cursor:not-allowed;transform:none !important}.export-modal__cancel{background:linear-gradient(135deg, #C12862 0%, #9a1a4d 100%);box-shadow:0 4px 16px -4px rgba(193,40,98,.4)}.export-modal__cancel:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px -6px rgba(193,40,98,.5)}.export-modal__submit{background:linear-gradient(135deg, #1487C5 0%, #0a5a9e 100%);box-shadow:0 4px 16px -4px rgba(20,135,197,.4)}.export-modal__submit:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 24px -6px rgba(20,135,197,.5)}.export-modal__cancel:active:not(:disabled),.export-modal__submit:active:not(:disabled){transform:translateY(0) scale(0.98)}.export-modal__result-content{display:flex;flex-direction:column;align-items:center;gap:24px}.export-modal__result-icon{width:80px;height:80px;display:flex;align-items:center;justify-content:center;animation:resultIconPop .5s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes resultIconPop{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}.export-modal__result-icon--success{color:#10b981;filter:drop-shadow(0 0 20px rgba(16, 185, 129, 0.3))}.export-modal__result-icon--error{color:#ef4444;filter:drop-shadow(0 0 20px rgba(239, 68, 68, 0.3))}.export-modal__result-icon svg{width:64px;height:64px}.export-modal__result-message{font-size:17px;color:#e2e8f0;text-align:center;margin:0;line-height:1.6;max-width:300px}.export-modal__result-button{padding:14px 40px;border-radius:12px;border:none;cursor:pointer;color:#fff;font-size:15px;font-weight:600;font-family:inherit;letter-spacing:.3px;background:linear-gradient(135deg, #1487C5 0%, #0a5a9e 100%);box-shadow:0 4px 16px -4px rgba(20,135,197,.4);transition:all .25s cubic-bezier(0.4, 0, 0.2, 1);margin-top:8px;position:relative;overflow:hidden}.export-modal__result-button::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, transparent 50%);opacity:0;transition:opacity .2s ease}.export-modal__result-button:hover{transform:translateY(-2px);box-shadow:0 8px 24px -6px rgba(20,135,197,.5)}.export-modal__result-button:hover::before{opacity:1}.export-modal__result-button:active{transform:translateY(0) scale(0.98)}@media(max-width: 640px){.export-modal--large{width:95vw}.export-modal__row--half{grid-template-columns:1fr}}',""]);const l=i},6235:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var a=o(8081),r=o.n(a),n=o(3645),i=o.n(n)()(r());i.push([e.id,'.space-eco-header-widget{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}.header-frame{position:relative;display:flex;align-items:center;justify-content:space-between;width:100%;height:80px;padding:0 24px;background:rgba(16,28,50,.3);border:1px solid rgba(255,255,255,.05);border-radius:20px;backdrop-filter:blur(10px);gap:16px;overflow:hidden;box-shadow:0 4px 15px rgba(0,0,0,.1);transition:transform .4s cubic-bezier(0.4, 0, 0.2, 1),box-shadow .4s cubic-bezier(0.4, 0, 0.2, 1),border-color .4s ease;animation:borderGlow 3s ease-in-out infinite}.sphere-image{position:absolute;left:-10px;top:-26px;width:117px;height:117px;object-fit:fill;pointer-events:none;user-select:none;-webkit-user-drag:none}.header-left-side{display:flex;align-items:center;gap:70px;flex-shrink:0}.header-logo{display:flex;align-items:center;justify-content:center;flex-shrink:0;height:60px}.header-logo svg{width:auto;height:100%;max-height:60px;display:block}.header-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:700;font-size:28px;line-height:32px;letter-spacing:4.4px;color:#fff;white-space:nowrap;flex-shrink:0}.searchbar-container{flex-shrink:0;max-width:500px;min-width:200px;width:460px;margin-right:70px;height:44px}.searchbar-content{display:flex;align-items:center;gap:10px;width:100%;height:100%;padding:0 18px;background:rgba(23,39,68,.25);border:1px solid rgba(255,255,255,.05);border-radius:22px;transition:all .2s ease}.searchbar-content:focus-within{border-color:rgba(255,255,255,.1);background:rgba(23,39,68,.35)}.search-icon{flex-shrink:0;width:20px;height:20px;color:#b4b4b4}.search-input{flex:1;background:rgba(0,0,0,0);border:none;outline:none;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:300;font-size:14px;line-height:20px;color:#fff;letter-spacing:0}.search-input::placeholder{color:#b4b4b4}.search-input:focus{color:#fff}.search-loading-icon{flex-shrink:0;width:16px;height:16px;color:#b4b4b4;animation:spin 1s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.suggestions-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.suggestions-dropdown-menu{background:rgba(16,28,50,.95);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.05);border-radius:20px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);max-height:300px;overflow-y:auto;z-index:99999;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top left}.suggestion-item{display:flex;align-items:center;width:100%;padding:12px 18px;background-color:rgba(0,0,0,0);border:none;cursor:pointer;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:14px;font-weight:300;color:#fff;transition:all .2s cubic-bezier(0.4, 0, 0.2, 1);text-align:left;border-bottom:1px solid rgba(255,255,255,.05)}.suggestion-item:last-child{border-bottom:none}.suggestion-item:hover{background:rgba(255,255,255,.1);color:#fff}.suggestion-item.no-results{cursor:default;color:rgba(255,255,255,.5)}.suggestion-item.no-results:hover{background:rgba(0,0,0,0)}.suggestion-text{user-select:none;letter-spacing:0;word-break:break-all}.header-right-side{display:flex;align-items:center;gap:22px;flex-shrink:0;margin-left:auto}.icon-buttons-group{display:flex;align-items:center;justify-content:center;gap:22px}.icon-button{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;background:rgba(0,0,0,0);border:none;cursor:pointer;color:#fff;transition:all .2s ease;border-radius:4px;flex-shrink:0}.icon-button:hover svg path{fill:#1487c5}.icon-button:active:not(.open):not(.color-button):not(.language-button){transform:scale(0.95)}.icon-button:active:not(.open):not(.color-button):not(.language-button) svg path{fill:#1487c5}.icon-button.open svg path{fill:#1487c5}.icon-button svg{width:auto;height:auto;max-width:24px;max-height:24px;display:block}.icon-button svg path{transition:fill .3s ease}.header-language-selector{position:relative;display:flex;align-items:center;z-index:10000}.language-button{position:relative}.language-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.language-dropdown-menu{background:rgba(var(--bs-tertiary-rgb), 0.4);backdrop-filter:blur(1rem);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);min-width:200px;z-index:99999;overflow:hidden;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top right;display:flex;flex-direction:column}.language-dropdown-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.language-dropdown-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:18px;line-height:24px;color:#fff;margin:0;user-select:none}.language-items-list{padding:8px 0}@keyframes dropdownFadeIn{from{opacity:0;transform:translateY(-8px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}.language-dropdown-item{display:flex;align-items:center;justify-content:space-between;width:100%;padding:12px 16px;background-color:rgba(0,0,0,0);border:none;cursor:pointer;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:15px;font-weight:500;color:#fff;transition:all .2s cubic-bezier(0.4, 0, 0.2, 1);position:relative;gap:12px}.language-item-content{display:flex;align-items:center;gap:10px;flex:1}.language-dropdown-item:hover{background:rgba(255,255,255,.1);color:#fff}.language-dropdown-item.active{background:rgba(255,255,255,.15);font-weight:600}.language-item-label{user-select:none;letter-spacing:.5px}.language-flag-icon{flex-shrink:0;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,.1)}.language-check-icon{flex-shrink:0;color:#fff;animation:checkFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1)}@keyframes checkFadeIn{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:scale(1)}}.language-dropdown-item:first-child{padding-top:12px}.language-dropdown-item:last-child{padding-bottom:12px}.language-dropdown-item:hover{transform:translateX(4px)}.header-profile-selector{position:relative;display:flex;align-items:center;z-index:10000}.profile-button{width:40px;height:40px;border-radius:50%;border:2px solid rgba(255,255,255,.15);background:var(--profile-button-bg, linear-gradient(135deg, #667eea 0%, #764ba2 100%));color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:16px;font-weight:600;padding:0;transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);box-shadow:0 2px 8px var(--profile-button-shadow, rgba(0, 0, 0, 0.15));position:relative;overflow:hidden}.profile-button::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%);opacity:0;transition:opacity .3s ease;border-radius:50%}.profile-button:hover::before{opacity:1}.profile-button:focus{outline:none;box-shadow:0 0 0 3px var(--profile-button-focus-shadow, rgba(102, 126, 234, 0.4)),0 4px 12px rgba(0,0,0,.2)}.profile-button:hover{transform:scale(1.05);border-color:rgba(255,255,255,.3);box-shadow:0 4px 16px var(--profile-button-hover-shadow, rgba(102, 126, 234, 0.4)),0 0 0 1px rgba(255,255,255,.1);background:var(--profile-button-bg-hover, linear-gradient(135deg, #7c8ef0 0%, #8a5db8 100%))}.profile-button:active{transform:scale(0.98);transition:all .15s ease}.profile-button.open{border-color:rgba(255,255,255,.35);box-shadow:0 4px 16px var(--profile-button-open-shadow, rgba(102, 126, 234, 0.5)),0 0 0 1px rgba(255,255,255,.15);transform:scale(1.02)}.profile-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.profile-dropdown-menu{background:rgba(16,28,50,.95);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.05);border-radius:20px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);min-width:220px;z-index:99999;overflow:hidden;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top right}.profile-dropdown-header{padding:16px;border-bottom:1px solid rgba(255,255,255,.05)}.profile-dropdown-email{display:flex;flex-direction:column;gap:8px;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:14px;color:#fff;font-weight:500}.profile-account-label{color:rgba(255,255,255,.7);font-size:12px}.profile-email-value{word-break:break-all;color:#fff}.profile-dropdown-item{display:flex;align-items:center;gap:10px;width:100%;padding:12px 16px;background-color:rgba(0,0,0,0);border:none;cursor:pointer;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:14px;font-weight:500;color:#fff;transition:all .2s cubic-bezier(0.4, 0, 0.2, 1);text-align:left}.profile-dropdown-item:hover:not(.logout-item){background:rgba(255,255,255,.1);color:#fff}.profile-dropdown-item.logout-item{color:var(--logout-color, #ff6b6b)}.profile-dropdown-item.logout-item:hover{background:var(--logout-bg-hover, rgba(255, 107, 107, 0.2));color:var(--logout-color-hover, #ff5252)}.logout-icon{flex-shrink:0;color:currentColor}.notification-button{position:relative}.notification-badge{position:absolute;top:-2px;right:-2px;width:8px;height:8px;border-radius:50%;background:#ef4444;border:2px solid rgba(16,28,50,.3);box-shadow:0 0 4px rgba(239,68,68,.6);animation:pulse 2s ease-in-out infinite}.ws-status-indicator{position:absolute;bottom:-2px;left:-2px;width:10px;height:10px;border-radius:50%;border:2px solid rgba(16,28,50,.3);z-index:1}.ws-status-connected{background:#10b981;box-shadow:0 0 6px rgba(16,185,129,.6)}.ws-status-connecting{background:#f59e0b;box-shadow:0 0 6px rgba(245,158,11,.6);animation:connectingPulse 1.5s ease-in-out infinite}.ws-status-error,.ws-status-disconnected{background:#ef4444;box-shadow:0 0 6px rgba(239,68,68,.6)}.ws-status-pulse{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:100%;height:100%;border-radius:50%;background:inherit;animation:statusPulse 1.5s ease-in-out infinite}@keyframes connectingPulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@keyframes statusPulse{0%{transform:translate(-50%, -50%) scale(1);opacity:1}100%{transform:translate(-50%, -50%) scale(2);opacity:0}}@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}.notification-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.notification-dropdown-menu{background:rgba(var(--bs-tertiary-rgb), 0.4);backdrop-filter:blur(1rem);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);width:400px;max-height:calc(100vh - 100px);height:auto;z-index:99999;overflow:hidden;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top right;display:flex;flex-direction:column}.notification-dropdown-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.notification-dropdown-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:18px;line-height:24px;color:#fff;margin:0;user-select:none}.notification-header-actions{display:flex;align-items:center;gap:12px}.notification-action-button{display:flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;background:rgba(0,0,0,0);border:none;cursor:pointer;color:rgba(255,255,255,.7);transition:all .2s ease;border-radius:4px}.notification-action-button:hover{color:#fff;background:rgba(255,255,255,.1)}.notification-list{overflow-y:auto;flex:1;min-height:0;padding:8px 0}.notification-list::-webkit-scrollbar{width:6px}.notification-list::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.notification-list::-webkit-scrollbar-thumb{background:var(--theme-primary-rgba, rgba(78, 204, 242, 0.6));border-radius:3px}.notification-list::-webkit-scrollbar-thumb:hover{background:var(--theme-primary-rgba-hover, rgba(78, 204, 242, 0.8))}.notification-item{display:flex;align-items:flex-start;gap:12px;padding:12px 20px;transition:all .2s ease;cursor:pointer;position:relative}.notification-item:hover{background:rgba(255,255,255,.1)}.notification-icon-wrapper{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;color:#fff}.notification-content{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.notification-text{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:400;font-size:14px;line-height:20px;color:#fff;word-wrap:break-word}.notification-timestamp{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:300;font-size:12px;line-height:16px;color:rgba(255,255,255,.6)}.notification-unread-dot{width:8px;height:8px;border-radius:50%;background:#ef4444;flex-shrink:0;margin-top:6px;box-shadow:0 0 4px rgba(239,68,68,.5)}.notification-mark-read-button{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.1);border:none;border-radius:4px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:rgba(255,255,255,.7);transition:all .2s ease;opacity:0}.notification-item:hover .notification-mark-read-button{opacity:1}.notification-mark-read-button:hover{background:rgba(255,255,255,.2);color:#fff}.notification-mark-read-button svg{width:14px;height:14px}.header-color-selector{position:relative;display:flex;align-items:center;z-index:10000}.color-button{position:relative}.color-button.open{background:rgba(0,0,0,0)}.color-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.color-dropdown-menu{background:rgba(var(--bs-tertiary-rgb), 0.4);backdrop-filter:blur(1rem);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);width:400px;max-height:calc(100vh - 100px);height:auto;z-index:99999;overflow:hidden;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top right;display:flex;flex-direction:column}.color-dropdown-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.color-dropdown-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:18px;line-height:24px;color:#fff;margin:0;user-select:none}.color-refresh-button{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;background:rgba(0,0,0,0);border:none;cursor:pointer;color:rgba(255,255,255,.7);transition:all .2s ease;border-radius:50%}.color-refresh-button:hover{color:#fff;background:rgba(255,255,255,.1)}.theme-options-container{overflow-y:auto;flex:1;min-height:0;padding:16px 20px;display:flex;flex-direction:column;gap:12px}.theme-options-container::-webkit-scrollbar{width:6px}.theme-options-container::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.theme-options-container::-webkit-scrollbar-thumb{background:var(--theme-primary-rgba, rgba(78, 204, 242, 0.6));border-radius:3px}.theme-options-container::-webkit-scrollbar-thumb:hover{background:var(--theme-primary-rgba-hover, rgba(78, 204, 242, 0.8))}.theme-option{width:100%;height:80px;border-radius:12px;border:1px solid rgba(255,255,255,.2);cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center;transition:all .2s ease;position:relative;overflow:hidden}.theme-option:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.4);box-shadow:0 4px 12px rgba(0,0,0,.3)}.theme-option.selected{border-color:#fff;border-width:2px;box-shadow:0 0 0 2px rgba(255,255,255,.3),0 4px 12px rgba(0,0,0,.4)}.theme-check-icon{position:absolute;top:12px;left:12px;flex-shrink:0;animation:checkFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);z-index:2}.theme-new-badge{position:absolute;top:12px;right:12px;background:#ef4444;color:#fff;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:10px;font-weight:600;padding:4px 8px;border-radius:4px;z-index:2;box-shadow:0 2px 4px rgba(0,0,0,.2)}.theme-name{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:20px;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);z-index:1;position:relative}@media(max-width: 1920px){.header-frame{padding:0 20px}.searchbar-container{max-width:500px}}@media(max-width: 1440px){.header-title{font-size:22px;font-weight:700}.searchbar-container{max-width:400px}.icon-buttons-group{gap:4px}}@media(max-width: 1024px){.header-frame{padding:0 16px;gap:16px}.header-left-side{gap:12px}.header-logo{height:50px}.header-title{font-size:18px;font-weight:700;letter-spacing:.2px}.searchbar-container{max-width:300px;height:40px}.searchbar-content{padding:0 14px}.icon-button{width:24px;height:24px}.user-avatar,.user-avatar-container{width:36px;height:36px}}@media(max-width: 768px){.header-frame{flex-wrap:wrap;height:auto;min-height:64px;padding:12px 16px;gap:12px}.header-left-side{order:0;width:100%;margin-bottom:8px}.header-logo{height:40px}.header-title{flex:1;text-align:left}.header-right-side{order:1;width:100%;flex-direction:column;gap:12px;margin-left:0}.searchbar-container{max-width:100%;width:100%}.sphere-image{display:none}}.category-button{position:relative}.category-dropdown-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99998;background:rgba(0,0,0,0)}.category-dropdown-menu{background:rgba(var(--bs-tertiary-rgb), 0.4);backdrop-filter:blur(1rem);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.2);width:400px;max-height:calc(100vh - 100px);height:auto;z-index:99999;overflow:hidden;animation:dropdownFadeIn .2s cubic-bezier(0.4, 0, 0.2, 1);transform-origin:top right;display:flex;flex-direction:column}.category-dropdown-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.category-dropdown-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:18px;line-height:24px;color:#fff;margin:0;user-select:none}.category-content{overflow-y:auto;flex:1;min-height:0;padding:16px 20px}.category-content::-webkit-scrollbar{width:6px}.category-content::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.category-content::-webkit-scrollbar-thumb{background:var(--theme-primary-rgba, rgba(78, 204, 242, 0.6));border-radius:3px}.category-content::-webkit-scrollbar-thumb:hover{background:var(--theme-primary-rgba-hover, rgba(78, 204, 242, 0.8))}.category-section{margin-bottom:24px}.category-section:last-child{margin-bottom:0}.category-section-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:20px;color:rgba(255,255,255,.7);margin-bottom:12px;text-transform:uppercase;letter-spacing:.5px;user-select:none}.category-items-list{display:flex;flex-direction:column;gap:8px}.category-item{display:flex;align-items:center;gap:12px;width:100%;padding:12px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:8px;cursor:pointer;transition:all .2s ease;text-align:left}.category-item:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);transform:translateX(4px)}.video-thumbnail,.file-icon{width:48px;height:48px;border-radius:8px;background:rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.video-thumbnail-preview{position:relative;width:80px;height:45px;border-radius:6px;overflow:hidden;flex-shrink:0;background:rgba(0,0,0,.3)}.video-thumbnail-img{width:100%;height:100%;object-fit:cover}.video-play-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.3);color:#fff;opacity:0;transition:opacity .2s ease}.category-item.video-item:hover .video-play-overlay{opacity:1}.category-item-content{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.category-item-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:14px;line-height:20px;color:#fff;word-wrap:break-word}.category-item-meta{display:flex;align-items:center;gap:8px;font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:300;font-size:12px;line-height:16px;color:rgba(255,255,255,.6)}.file-download-icon{flex-shrink:0;color:rgba(255,255,255,.6);transition:all .2s ease}.category-item:hover .file-download-icon{color:#fff;transform:translateY(-2px)}.video-player-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);backdrop-filter:blur(4px);z-index:100000;animation:fadeIn .2s ease}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.video-player-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:95%;max-width:1600px;max-height:95vh;background:rgba(var(--bs-tertiary-rgb), 0.95);backdrop-filter:blur(1rem);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:0 20px 25px -5px rgba(0,0,0,.5),0 10px 10px -5px rgba(0,0,0,.3);z-index:100001;display:flex;flex-direction:column;animation:modalFadeIn .3s cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}@keyframes modalFadeIn{from{opacity:0;transform:translate(-50%, -50%) scale(0.9)}to{opacity:1;transform:translate(-50%, -50%) scale(1)}}.video-player-close{position:absolute;top:16px;right:16px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:50%;cursor:pointer;color:#fff;transition:all .2s ease;z-index:10}.video-player-close:hover{background:rgba(255,255,255,.2);transform:rotate(90deg)}.video-player-header{padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.1)}.video-player-title{font-family:"Geologica",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#fff;margin:0}.video-player-container{position:relative;width:100%;padding-bottom:56.25%;background:#000}.video-player{position:absolute;top:0;left:0;width:100%;height:100%;border:none;outline:none}@keyframes borderGlow{0%,100%{border-color:var(--border-glow-start, rgba(78, 204, 242, 0.1))}50%{border-color:var(--border-glow-end, rgba(78, 204, 242, 0.35))}}',""]);const l=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",a=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),a&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),a&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,a,r,n){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&i[d[0]]||(void 0!==n&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},3379:e=>{"use strict";var t=[];function o(e){for(var o=-1,a=0;a<t.length;a++)if(t[a].identifier===e){o=a;break}return o}function a(e,a){for(var n={},i=[],l=0;l<e.length;l++){var s=e[l],c=a.base?s[0]+a.base:s[0],d=n[c]||0,p="".concat(c," ").concat(d);n[c]=d+1;var u=o(p),g={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)t[u].references++,t[u].updater(g);else{var m=r(g,a);a.byIndex=l,t.splice(l,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var n=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<n.length;i++){var l=o(n[i]);t[l].references--}for(var s=a(e,r),c=0;c<n.length;c++){var d=o(n[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}n=s}}},569:e=>{"use strict";var t={};e.exports=function(e,o){var a=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(o)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,o)=>{"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var a="";o.supports&&(a+="@supports (".concat(o.supports,") {")),o.media&&(a+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(a+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),a+=o.css,r&&(a+="}"),o.media&&(a+="}"),o.supports&&(a+="}");var n=o.sourceMap;n&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8891:e=>{"use strict";e.exports=o},1315:e=>{"use strict";e.exports=a},800:e=>{"use strict";e.exports=r}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={id:o,exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",n.nc=void 0;var i={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(i),n.d(i,{__set_webpack_public_path__:()=>F,default:()=>H});var e=n(8891),t=n(1315),o=n(800);const a={type1:{primary:"#4eccf2",light:"#91dff6",medium:"#4eccf2",dark:"#2ec3ee"},type2:{primary:"#0ea5e9",light:"#38bdf8",medium:"#0ea5e9",dark:"#0284c7"},type3:{primary:"#a855f7",light:"#c084fc",medium:"#a855f7",dark:"#9333ea"},type4:{primary:"#10b981",light:"#34d399",medium:"#10b981",dark:"#059669"},type5:{primary:"#f59e0b",light:"#fbbf24",medium:"#f59e0b",dark:"#d97706"},type6:{primary:"#ef4444",light:"#f87171",medium:"#ef4444",dark:"#dc2626"},type7:{primary:"#3b82f6",light:"#60a5fa",medium:"#3b82f6",dark:"#2563eb"},type8:{primary:"#a78bfa",light:"#c4b5fd",medium:"#a78bfa",dark:"#8b5cf6"}},r={"#19253b":"type1","#0b6baa":"type2","#63289e":"type3","#00888d":"type4","#793b05":"type5","#a0202c":"type6","#1e3a8a":"type7","#7c3aed":"type8"},l={primary:"#4eccf2",light:"#91dff6",medium:"#4eccf2",dark:"#2ec3ee"},s=()=>{if("undefined"==typeof window)return l;try{const e=localStorage.getItem("selectedThemeColor");if(!e)return l;if(a[e])return a[e];if(r[e]){const t=r[e];return localStorage.setItem("selectedThemeColor",t),a[t]}}catch(e){console.error("Error getting theme color:",e)}return l};var c=n(3379),d=n.n(c),p=n(7795),u=n.n(p),g=n(569),m=n.n(g),f=n(3565),h=n.n(f),x=n(9216),b=n.n(x),v=n(4589),w=n.n(v),y=n(6235),C={};C.styleTagTransform=w(),C.setAttributes=h(),C.insert=m().bind(null,"head"),C.domAPI=u(),C.insertStyleElement=b(),d()(y.Z,C),y.Z&&y.Z.locals&&y.Z.locals;var k=n(9288),_={};_.styleTagTransform=w(),_.setAttributes=h(),_.insert=m().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=b(),d()(k.Z,_),k.Z&&k.Z.locals&&k.Z.locals;const j={ru:{title:"Экспорт данных",close:"Закрыть",format:{label:"Формат файла",csv:"CSV",excel:"Excel"},documentType:{label:"Тип документа",placeholder:"Выберите тип"},status:{label:"Статус",placeholder:"Выберите статус",all:"Все статусы"},year:{label:"Год",placeholder:"Выберите год",all:"Все годы"},region:{label:"Регион",placeholder:"Выберите регион",all:"Вся Республика"},buttons:{cancel:"Отменить",export:"Экспортировать",exporting:"Экспорт..."},result:{success:"Данные успешно экспортированы!",error:"Ошибка при экспорте данных",close:"Закрыть"}},"uz-Cyrl":{title:"Маълумотларни экспорт қилиш",close:"Ёпиш",format:{label:"Файл формати",csv:"CSV",excel:"Excel"},documentType:{label:"Ҳужжат тури",placeholder:"Турни танланг"},status:{label:"Ҳолат",placeholder:"Ҳолатни танланг",all:"Барча ҳолатлар"},year:{label:"Йил",placeholder:"Йилни танланг",all:"Барча йиллар"},region:{label:"Ҳудуд",placeholder:"Ҳудудни танланг",all:"Бутун Республика"},buttons:{cancel:"Бекор қилиш",export:"Экспорт қилиш",exporting:"Экспорт..."},result:{success:"Маълумотлар муваффақиятли экспорт қилинди!",error:"Маълумотларни экспорт қилишда хатолик",close:"Ёпиш"}},"uz-Latn":{title:"Ma'lumotlarni eksport qilish",close:"Yopish",format:{label:"Fayl formati",csv:"CSV",excel:"Excel"},documentType:{label:"Hujjat turi",placeholder:"Turni tanlang"},status:{label:"Holat",placeholder:"Holatni tanlang",all:"Barcha holatlar"},year:{label:"Yil",placeholder:"Yilni tanlang",all:"Barcha yillar"},region:{label:"Hudud",placeholder:"Hududni tanlang",all:"Butun Respublika"},buttons:{cancel:"Bekor qilish",export:"Eksport qilish",exporting:"Eksport..."},result:{success:"Ma'lumotlar muvaffaqiyatli eksport qilindi!",error:"Ma'lumotlarni eksport qilishda xatolik",close:"Yopish"}}},S={ru:[{value:"0",label:"Потенциальные незаконные свалки в жилых районах"},{value:"2",label:"Потенциальные незаконные свалки в промышленных зонах"},{value:"4",label:"Общее количество легальных полигонов"},{value:"1",label:"Незаконные полигоны в охранной зоне реки"},{value:"3",label:"Выход за границы легальных полигонов"}],"uz-Cyrl":[{value:"0",label:"Аҳоли яшаш жойларида эҳтимоли юқори бўлган ноқонуний чиқинди полигонлари"},{value:"2",label:"Саноат зоналарида эҳтимоли юқори бўлган ноқонуний чиқинди полигонлари"},{value:"4",label:"Қонуний чиқинди полигонларининг умумий сони"},{value:"1",label:"Дарё муҳофаза ҳудудидаги ноқонуний полигонлар"},{value:"3",label:"Қонуний чиқинди полигонлари чегарасидан ташқарига чиқиш ҳолати"}],"uz-Latn":[{value:"0",label:"Aholi yashash joylarida ehtimoli yuqori bo'lgan noqonuniy chiqindi poligonlari"},{value:"2",label:"Sanoat zonlarida ehtimoli yuqori bo'lgan noqonuniy chiqindi poligonlari"},{value:"4",label:"Qonuniy chiqindi poligonlarining umumiy soni"},{value:"1",label:"Daryo muhofaza hududidagi noqonuniy poligonlar"},{value:"3",label:"Qonuniy chiqindi poligonlari chegarasidan tashqariga chiqish holati"}]},z={ru:[{value:"all",label:"Все статусы"},{value:"tekshirilgan",label:"Проверено"},{value:"tekshirilmagan",label:"Не проверено"},{value:"tasdiqlanmagan",label:"Не подтверждено"},{value:"jarayonda",label:"В процессе"}],"uz-Cyrl":[{value:"all",label:"Барча ҳолатлар"},{value:"tekshirilgan",label:"Текширилган"},{value:"tekshirilmagan",label:"Текширилмаган"},{value:"tasdiqlanmagan",label:"Тасдиқланмаган"},{value:"jarayonda",label:"Жараёнда"}],"uz-Latn":[{value:"all",label:"Barcha holatlar"},{value:"tekshirilgan",label:"Tekshirilgan"},{value:"tekshirilmagan",label:"Tekshirilmagan"},{value:"tasdiqlanmagan",label:"Tasdiqlanmagan"},{value:"jarayonda",label:"Jarayonda"}]},L={ru:[{value:"all",label:"Вся Республика"},{value:"1703",label:"Республика Каракалпакстан"},{value:"1706",label:"Андижанская область"},{value:"1708",label:"Бухарская область"},{value:"1710",label:"Джизакская область"},{value:"1712",label:"Кашкадарьинская область"},{value:"1714",label:"Навоийская область"},{value:"1718",label:"Наманганская область"},{value:"1722",label:"Самаркандская область"},{value:"1724",label:"Сурхандарьинская область"},{value:"1726",label:"Сырдарьинская область"},{value:"1727",label:"Ташкентская область"},{value:"1730",label:"Ферганская область"},{value:"1733",label:"Хорезмская область"},{value:"1735",label:"город Ташкент"}],"uz-Cyrl":[{value:"all",label:"Бутун Республика"},{value:"1703",label:"Қорақалпоғистон Республикаси"},{value:"1706",label:"Андижон вилояти"},{value:"1708",label:"Бухоро вилояти"},{value:"1710",label:"Жиззах вилояти"},{value:"1712",label:"Қашқадарё вилояти"},{value:"1714",label:"Навоий вилояти"},{value:"1718",label:"Наманган вилояти"},{value:"1722",label:"Самарқанд вилояти"},{value:"1724",label:"Сурхондарё вилояти"},{value:"1726",label:"Сирдарё вилояти"},{value:"1727",label:"Тошкент вилояти"},{value:"1730",label:"Фарғона вилояти"},{value:"1733",label:"Хоразм вилояти"},{value:"1735",label:"Тошкент шаҳри"}],"uz-Latn":[{value:"all",label:"Butun Respublika"},{value:"1703",label:"Qoraqalpog'iston Respublikasi"},{value:"1706",label:"Andijon viloyati"},{value:"1708",label:"Buxoro viloyati"},{value:"1710",label:"Jizzax viloyati"},{value:"1712",label:"Qashqadaryo viloyati"},{value:"1714",label:"Navoiy viloyati"},{value:"1718",label:"Namangan viloyati"},{value:"1722",label:"Samarqand viloyati"},{value:"1724",label:"Surxondaryo viloyati"},{value:"1726",label:"Sirdaryo viloyati"},{value:"1727",label:"Toshkent viloyati"},{value:"1730",label:"Farg'ona viloyati"},{value:"1733",label:"Xorazm viloyati"},{value:"1735",label:"Toshkent shahri"}]},E=({options:e,value:o,onChange:a,placeholder:r,label:n})=>{const[i,l]=(0,t.useState)(!1),s=(0,t.useRef)(null),c=e.find((e=>e.value===o)),d=(null==c?void 0:c.label)||r;return(0,t.useEffect)((()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&l(!1)};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]),t.default.createElement("div",{className:"export-modal__field"},t.default.createElement("span",{className:"export-modal__label"},n),t.default.createElement("div",{className:"export-modal__dropdown "+(i?"export-modal__dropdown--open":""),ref:s},t.default.createElement("button",{type:"button",className:"export-modal__dropdown-trigger "+(i?"export-modal__dropdown-trigger--open":""),onClick:()=>l(!i),"aria-expanded":i,"aria-haspopup":"listbox"},t.default.createElement("span",{className:"export-modal__dropdown-value"},d),t.default.createElement("svg",{className:"export-modal__dropdown-chevron "+(i?"export-modal__dropdown-chevron--open":""),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),i&&t.default.createElement("div",{className:"export-modal__dropdown-menu"},t.default.createElement("ul",{className:"export-modal__dropdown-list",role:"listbox"},e.map((e=>t.default.createElement("li",{key:e.value,className:"export-modal__dropdown-item "+(o===e.value?"export-modal__dropdown-item--selected":""),role:"option","aria-selected":o===e.value,onClick:()=>{return t=e.value,a(t),void l(!1);var t}},t.default.createElement("span",{className:"export-modal__dropdown-item-text"},e.label),o===e.value&&t.default.createElement("svg",{className:"export-modal__dropdown-check",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))))))},N=(0,t.memo)((({isOpen:e,onClose:a,currentLocale:r})=>{const[n,i]=(0,t.useState)("xlsx"),[l,s]=(0,t.useState)("0"),[c,d]=(0,t.useState)("all"),[p,u]=(0,t.useState)("all"),[g,m]=(0,t.useState)("all"),[f,h]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[v,w]=(0,t.useState)("success"),[y,C]=(0,t.useState)(""),k=(0,t.useMemo)((()=>j[r]||j.ru),[r]),_=(0,t.useMemo)((()=>S[r]||S["uz-Latn"]),[r]),N=(0,t.useMemo)((()=>z[r]||z["uz-Latn"]),[r]),M=(0,t.useMemo)((()=>(e=>{const t=[{value:"all",label:"ru"===e?"Все годы":"uz-Cyrl"===e?"Барча йиллар":"Barcha yillar"}];for(let e=(new Date).getFullYear();e>=2020;e--)t.push({value:e.toString(),label:e.toString()});return t})(r)),[r]),I=(0,t.useMemo)((()=>L[r]||L.ru),[r]);(0,t.useEffect)((()=>{if(e)try{const e=localStorage.getItem("selectedSoato");m(e&&"all"!==e?e:"all")}catch(e){m("all")}}),[e]),(0,t.useEffect)((()=>{e||(b(!1),h(!1),C(""))}),[e]);const A=(0,t.useCallback)((()=>{return e=void 0,t=void 0,a=function*(){var e;h(!0),b(!1);try{const t=new URL("https://api-test.spacemc.uz/api/ecology/export");t.searchParams.append("format",n),t.searchParams.append("tur",l),c&&"all"!==c&&t.searchParams.append("status",c),p&&"all"!==p&&t.searchParams.append("year",p),g&&"all"!==g&&t.searchParams.append("region",g);const o=yield fetch(t.toString(),{method:"GET",headers:{accept:"application/octet-stream"}});if(!o.ok)throw new Error(`Export failed: ${o.status} ${o.statusText}`);const a=yield o.blob(),r=window.URL.createObjectURL(a),i=document.createElement("a");i.href=r;const s=(new Date).toISOString().split("T")[0],d=((null===(e=_.find((e=>e.value===l)))||void 0===e?void 0:e.label)||"export").substring(0,30).replace(/[^a-zA-Z0-9\u0400-\u04FF\s]/g,"").replace(/\s+/g,"_"),u="csv"===n?"csv":"xlsx";i.download=`ecology_${d}_${s}.${u}`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r),w("success"),C(k.result.success),b(!0)}catch(e){console.error("Export error:",e),w("error"),C(e instanceof Error?e.message:k.result.error),b(!0)}finally{h(!1)}},new((o=void 0)||(o=Promise))((function(r,n){function i(e){try{s(a.next(e))}catch(e){n(e)}}function l(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}));var e,t,o,a}),[n,l,c,p,g,k,_]),[W,B]=(0,t.useState)(null);if((0,t.useEffect)((()=>{if("undefined"!=typeof document){let e=document.getElementById("export-modal-portal");e||(e=document.createElement("div"),e.id="export-modal-portal",document.body.appendChild(e)),B(e)}return()=>{if("undefined"!=typeof document){const e=document.getElementById("export-modal-portal");e&&e.parentNode&&e.parentNode.removeChild(e)}}}),[]),!e||!W)return null;if(x){const e=t.default.createElement("div",{className:"export-modal-overlay",role:"dialog","aria-modal":"true"},t.default.createElement("div",{className:"export-modal export-modal--result"},t.default.createElement("div",{className:"export-modal__result-content"},t.default.createElement("div",{className:"export-modal__result-icon "+("success"===v?"export-modal__result-icon--success":"export-modal__result-icon--error")},"success"===v?t.default.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"currentColor",fillOpacity:"0.1"}),t.default.createElement("path",{d:"M16 24L22 30L32 18",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})):t.default.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"currentColor",fillOpacity:"0.1"}),t.default.createElement("path",{d:"M18 18L30 30M30 18L18 30",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}))),t.default.createElement("p",{className:"export-modal__result-message"},y),t.default.createElement("button",{type:"button",className:"export-modal__result-button",onClick:a},k.result.close))));return(0,o.createPortal)(e,W)}const P=t.default.createElement("div",{className:"export-modal-overlay",role:"dialog","aria-modal":"true"},t.default.createElement("div",{className:"export-modal export-modal--large"},t.default.createElement("div",{className:"export-modal__header"},t.default.createElement("div",{className:"export-modal__title"},k.title),t.default.createElement("button",{type:"button",className:"export-modal__close","aria-label":k.close,onClick:a},"×")),t.default.createElement("div",{className:"export-modal__body"},t.default.createElement("div",{className:"export-modal__row"},t.default.createElement("div",{className:"export-modal__field"},t.default.createElement("span",{className:"export-modal__label"},k.format.label),t.default.createElement("div",{className:"export-modal__format-group"},t.default.createElement("button",{type:"button",className:"export-modal__format-btn "+("csv"===n?"export-modal__format-btn--active":""),onClick:()=>i("csv")},t.default.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("path",{d:"M4 2H12L16 6V18H4V2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.default.createElement("path",{d:"M12 2V6H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),k.format.csv),t.default.createElement("button",{type:"button",className:"export-modal__format-btn "+("xlsx"===n?"export-modal__format-btn--active":""),onClick:()=>i("xlsx")},t.default.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("path",{d:"M4 2H12L16 6V18H4V2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.default.createElement("path",{d:"M12 2V6H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.default.createElement("rect",{x:"6",y:"9",width:"8",height:"6",stroke:"currentColor",strokeWidth:"1",fill:"none"}),t.default.createElement("line",{x1:"6",y1:"11",x2:"14",y2:"11",stroke:"currentColor",strokeWidth:"1"}),t.default.createElement("line",{x1:"6",y1:"13",x2:"14",y2:"13",stroke:"currentColor",strokeWidth:"1"}),t.default.createElement("line",{x1:"10",y1:"9",x2:"10",y2:"15",stroke:"currentColor",strokeWidth:"1"})),k.format.excel)))),t.default.createElement("div",{className:"export-modal__row"},t.default.createElement(E,{options:_,value:l,onChange:s,placeholder:k.documentType.placeholder,label:k.documentType.label})),t.default.createElement("div",{className:"export-modal__row"},t.default.createElement(E,{options:N,value:c,onChange:d,placeholder:k.status.placeholder,label:k.status.label})),t.default.createElement("div",{className:"export-modal__row export-modal__row--half"},t.default.createElement(E,{options:M,value:p,onChange:u,placeholder:k.year.placeholder,label:k.year.label}),t.default.createElement(E,{options:I,value:g,onChange:m,placeholder:k.region.placeholder,label:k.region.label}))),t.default.createElement("div",{className:"export-modal__footer"},t.default.createElement("button",{type:"button",className:"export-modal__cancel",onClick:a,disabled:f},k.buttons.cancel),t.default.createElement("button",{type:"button",className:"export-modal__submit",onClick:A,disabled:f},f?k.buttons.exporting:k.buttons.export))));return(0,o.createPortal)(P,W)})),M=JSON.parse('{"search":{"placeholder":"Введите ID"},"languageSwitch":{"title":"Язык"},"themeSwitch":{"title":"Переключение темы"},"videosAndFiles":{"title":"Видео и файлы","videosSection":"Видео","filesSection":"Файлы"},"videos":{"v1":{"title":"Обзор модуля экологического мониторинга","description":"Полное руководство по использованию модуля экологического мониторинга в системе космического наблюдения"},"v2":{"title":"Работа с картой и слоями","description":"Как работать с интерактивной картой, добавлять и настраивать слои данных"},"v3":{"title":"Анализ экологических данных","description":"Методы анализа и визуализации экологических показателей в реальном времени"},"v4":{"title":"Настройка уведомлений и отчётов","description":"Руководство по настройке системы уведомлений и создания автоматических отчётов"}},"videoPlayer":{"closeButton":"Закрыть видео","unsupportedBrowser":"Ваш браузер не поддерживает воспроизведение видео."},"files":{"f1":{"name":"Отчёт_мониторинга_2024.pdf"},"f2":{"name":"Анализ_экологических_данных.xlsx"},"f3":{"name":"Конфигурация_дашборда.json"},"f4":{"name":"Руководство_пользователя.docx"},"f5":{"name":"Обзор_статистики.pptx"}},"timeAgo":{"justNow":"Только что","hoursAgo":"{n} ч. назад","daysAgo":"{n} дн. назад"}}'),I=JSON.parse('{"search":{"placeholder":"ID kiriting"},"languageSwitch":{"title":"Til"},"themeSwitch":{"title":"Mavzu almashtirish"},"videosAndFiles":{"title":"Video va fayllar","videosSection":"Videolar","filesSection":"Fayllar"},"videos":{"v1":{"title":"Ekologik monitoring moduliga umumiy nuqtai nazar","description":"Kosmik kuzatuv tizimida ekologik monitoring modulidan foydalanish bo\'yicha to\'liq qo\'llanma"},"v2":{"title":"Xarita va qatlamlar bilan ishlash","description":"Interaktiv xarita bilan qanday ishlash, ma\'lumotlar qatlamlarini qo\'shish va sozlash"},"v3":{"title":"Ekologik ma\'lumotlarni tahlil qilish","description":"Real vaqtda ekologik ko\'rsatkichlarni tahlil qilish va vizualizatsiya usullari"},"v4":{"title":"Bildirishnomalar va hisobotlarni sozlash","description":"Bildirishnomalar tizimini sozlash va avtomatik hisobotlarni yaratish bo\'yicha qo\'llanma"}},"videoPlayer":{"closeButton":"Videoni yopish","unsupportedBrowser":"Brauzeringiz video ijro etishni qo\'llab-quvvatlamaydi."},"files":{"f1":{"name":"Monitoring_hisoboti_2024.pdf"},"f2":{"name":"Ekologik_malumotlar_tahlili.xlsx"},"f3":{"name":"Dashboard_konfiguratsiyasi.json"},"f4":{"name":"Foydalanuvchi_qollanmasi.docx"},"f5":{"name":"Statistika_umumiy_nuqtai_nazar.pptx"}},"timeAgo":{"justNow":"Hozir","hoursAgo":"{n} soat oldin","daysAgo":"{n} kun oldin"}}'),A=JSON.parse('{"search":{"placeholder":"ID киритинг"},"languageSwitch":{"title":"Тил"},"themeSwitch":{"title":"Мавзу алмаштириш"},"videosAndFiles":{"title":"Видео ва файллар","videosSection":"Видеолар","filesSection":"Файллар"},"videos":{"v1":{"title":"Экологик мониторинг модулига умумий нуқтаи назар","description":"Космик кузатув тизимида экологик мониторинг модулидан фойдаланиш бўйича тўлиқ қўлланма"},"v2":{"title":"Харита ва қатламлар билан ишлаш","description":"Интерактив харита билан қандай ишлаш, маълумотлар қатламларини қўшиш ва созлаш"},"v3":{"title":"Экологик маълумотларни таҳлил қилиш","description":"Реал вақтда экологик кўрсаткичларни таҳлил қилиш ва визуализация усуллари"},"v4":{"title":"Билдиришномалар ва ҳисоботларни созлаш","description":"Билдиришномалар тизимини созлаш ва автоматик ҳисоботларни яратиш бўйича қўлланма"}},"videoPlayer":{"closeButton":"Видеони ёпиш","unsupportedBrowser":"Браузерингиз видео ижро этишни қўллаб-қувватламайди."},"files":{"f1":{"name":"Мониторинг_ҳисоботи_2024.pdf"},"f2":{"name":"Экологик_маълумотлар_таҳлили.xlsx"},"f3":{"name":"Дашборд_конфигурацияси.json"},"f4":{"name":"Фойдаланувчи_қўлланмаси.docx"},"f5":{"name":"Статистика_умумий_нуқтаи_назар.pptx"}},"timeAgo":{"justNow":"Ҳозир","hoursAgo":"{n} соат олдин","daysAgo":"{n} кун олдин"}}');var W=function(e,t,o,a){return new(o||(o=Promise))((function(r,n){function i(e){try{s(a.next(e))}catch(e){n(e)}}function l(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))};const B={ru:M,"uz-Latn":I,"uz-Cyrl":A},P="selectedId",$=(e,t="ru")=>{if(!e)return{ru:"Только что","uz-Latn":"Hozir","uz-Cyrl":"Ҳозир"}[t]||"Just now";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const o=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${o}.${a}.${r}, ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}catch(t){return e}},T=[{id:"v1",titleKey:"v1",thumbnail:"",youtubeId:"NGclZVsESgw",duration:"10:25",timestampKey:"2h"},{id:"v2",titleKey:"v2",thumbnail:"",youtubeId:"MkZQ2ly2cYI",duration:"15:42",timestampKey:"5h"},{id:"v3",titleKey:"v3",thumbnail:"",youtubeId:"iRbWnCyinGw",duration:"8:15",timestampKey:"1d"},{id:"v4",titleKey:"v4",thumbnail:"",youtubeId:"zqyT8Lbweas",duration:"12:30",timestampKey:"2d"}],R=[{id:"f1",nameKey:"f1",type:"PDF",size:"2.4 MB",url:"#",timestampKey:"1h"},{id:"f2",nameKey:"f2",type:"Excel",size:"5.8 MB",url:"#",timestampKey:"3h"},{id:"f3",nameKey:"f3",type:"JSON",size:"156 KB",url:"#",timestampKey:"6h"},{id:"f4",nameKey:"f4",type:"Word",size:"1.2 MB",url:"#",timestampKey:"1d"},{id:"f5",nameKey:"f5",type:"PowerPoint",size:"3.5 MB",url:"#",timestampKey:"2d"}],H=a=>{var r,n,i,l,c;const[d,p]=(0,t.useState)(""),[u,g]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[h,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[w,y]=(0,t.useState)(!1),[C,k]=(0,t.useState)(null),[_,j]=(0,t.useState)(!1),[S,z]=(0,t.useState)("ru"),[L,E]=(0,t.useState)("type1"),[M,I]=(0,t.useState)(s()),[A,H]=(0,t.useState)([]),[F,V]=(0,t.useState)(!1),[Z,q]=(0,t.useState)(!1),[G,U]=(0,t.useState)(!1),[O,D]=(0,t.useState)([]),[Y,K]=(0,t.useState)("disconnected"),J=(0,t.useRef)(null),Q=(0,t.useRef)(null),X=(0,t.useRef)(0),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),oe=(0,t.useRef)(null),ae=(0,t.useRef)(null),re=(0,t.useRef)(null),ne=(0,t.useRef)(null),ie=(0,t.useRef)(null),le=(0,t.useRef)(null),se=(0,t.useRef)(null),ce=(0,t.useRef)(null),de=(0,t.useRef)(null),pe=(0,t.useRef)(null),ue=(0,t.useRef)(null),[ge,me]=(0,t.useState)(null),[fe,he]=(0,t.useState)(null),[xe,be]=(0,t.useState)(null),[ve,we]=(0,t.useState)(null),[ye,Ce]=(0,t.useState)(null),[ke,_e]=(0,t.useState)(null),je=(()=>{try{const e=localStorage.getItem("exb_auth");if(e)return JSON.parse(e).email||""}catch(e){console.error("Error parsing exb_auth:",e)}return"user@example.com"})(),Se=je.charAt(0).toUpperCase()||"U",ze=[{value:"type1",label:"Тема 1",gradient:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},{value:"type2",label:"Тема 2",gradient:"linear-gradient(135deg, #0a4d68 0%, #0b6baa 50%, #0881a3 100%)"}],Le={"#19253b":"type1","#0b6baa":"type2","#63289e":"type3","#00888d":"type4","#793b05":"type5","#a0202c":"type6","#1e3a8a":"type7","#7c3aed":"type8"},Ee={"uz-Latn":{account:"Hisob",logout:"Hisobdan chiqish"},"uz-Cyrl":{account:"Ҳисоб",logout:"Ҳисобдан чиқиш"},ru:{account:"Аккаунт",logout:"Выход из аккаунта"}},Ne={"uz-Latn":{title:"Xabarnomalar",noNotifications:"Xabarnomalar yo'q",markAllRead:"Barchasini o'qilgan deb belgilash",viewAll:"Barchasini ko'rish",settings:"Sozlamalar",recordUpdated:"yangi qilindi",recordCreated:"yaratildi"},"uz-Cyrl":{title:"Хабарномалар",noNotifications:"Хабарномалар йўқ",markAllRead:"Барчасини ўқилган деб белгилаш",viewAll:"Барчасини кўриш",settings:"Созламалар",recordUpdated:"янги қилинди",recordCreated:"яратилди"},ru:{title:"Уведомления",noNotifications:"Нет уведомлений",markAllRead:"Отметить все как прочитанные",viewAll:"Просмотреть все",settings:"Настройки",recordUpdated:"обновлена",recordCreated:"создана"}},Me=()=>B[S]||B.ru,Ie=e=>{var t;return(null===(t=Me().videos[e])||void 0===t?void 0:t.title)||e},Ae=e=>{var t;return(null===(t=Me().files[e])||void 0===t?void 0:t.name)||e};(0,t.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("customLocal");z(!e||"uz-Latn"!==e&&"uz-Cyrl"!==e&&"ru"!==e?"ru":e)};e(),window.addEventListener("storage",e);const t=setInterval(e,500);return()=>{window.removeEventListener("storage",e),clearInterval(t)}}),[]),(0,t.useEffect)((()=>{const e=localStorage.getItem("selectedThemeColor");if(e)if(ze.some((t=>t.value===e)))E(e);else if(Le[e]){const t=Le[e];E(t),localStorage.setItem("selectedThemeColor",t)}else E("type1"),localStorage.setItem("selectedThemeColor","type1");else E("type1"),localStorage.setItem("selectedThemeColor","type1")}),[]),(0,t.useEffect)((()=>{const e=()=>{try{const e=s();I(e)}catch(e){}};e();const t=()=>e();window.addEventListener("theme-color-changed",t),window.addEventListener("storage",(t=>{"selectedThemeColor"!==t.key&&null!==t.key||e()}));const o=setInterval(e,500);return()=>{window.removeEventListener("theme-color-changed",t),clearInterval(o)}}),[]),(0,t.useEffect)((()=>{if(u&&le.current){const e=le.current.getBoundingClientRect();me({top:e.bottom+8,right:window.innerWidth-e.right})}else me(null)}),[u]),(0,t.useEffect)((()=>{if(m&&se.current){const e=se.current.getBoundingClientRect();he({top:e.bottom+8,right:window.innerWidth-e.right})}else he(null)}),[m]),(0,t.useEffect)((()=>{if(h&&ce.current){const e=ce.current.getBoundingClientRect();be({top:e.bottom+8,right:24})}else be(null)}),[h]),(0,t.useEffect)((()=>{if(b&&de.current){const e=de.current.getBoundingClientRect();we({top:e.bottom+8,right:24})}else we(null)}),[b]),(0,t.useEffect)((()=>{if(w&&pe.current){const e=pe.current.getBoundingClientRect();Ce({top:e.bottom+8,right:24})}else Ce(null)}),[w]),(0,t.useEffect)((()=>{if(!(u||m||h||F||b||w))return;const e=e=>{const t=e.target;u&&ee.current&&!ee.current.contains(t)&&le.current&&!le.current.contains(t)&&g(!1),m&&te.current&&!te.current.contains(t)&&se.current&&!se.current.contains(t)&&f(!1),h&&oe.current&&!oe.current.contains(t)&&ce.current&&!ce.current.contains(t)&&x(!1),b&&ae.current&&!ae.current.contains(t)&&de.current&&!de.current.contains(t)&&v(!1),w&&ue.current&&!ue.current.contains(t)&&pe.current&&!pe.current.contains(t)&&y(!1),F&&re.current&&!re.current.contains(t)&&ie.current&&!ie.current.contains(t)&&V(!1)};return document.addEventListener("mousedown",e,!0),()=>{document.removeEventListener("mousedown",e,!0)}}),[u,m,h,F,b,w]);const We=e=>{localStorage.setItem("customLocal",e),z(e),g(!1),window.dispatchEvent(new Event("storage"))},Be=(null===(r={"uz-Latn":{value:"uz-Latn",label:"UZ"},"uz-Cyrl":{value:"uz-Cyrl",label:"УЗ"},ru:{value:"ru",label:"РУ"}}[S])||void 0===r||r.label,t=>"uz-Latn"===t||"uz-Cyrl"===t?(0,e.jsx)("svg",{className:"language-flag-icon",width:"20",height:"14",viewBox:"0 0 513 357.071",fill:"none",xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality"},(0,e.jsx)("path",{fill:"#1EB53A",fillRule:"nonzero",d:"M28.477.32h456.044c15.488 0 28.159 12.672 28.159 28.16v300.111c0 15.488-12.671 28.16-28.159 28.16H28.477c-15.486 0-28.157-12.672-28.157-28.16V28.48C.32 12.992 12.991.32 28.477.32z"}),(0,e.jsx)("path",{fill:"#0099B5",fillRule:"nonzero",d:"M512.68 178.536H.32V28.48C.32 12.992 12.991.32 28.477.32h456.044c15.488 0 28.159 12.672 28.159 28.16v150.056z"}),(0,e.jsx)("path",{fill:"#CE1126",fillRule:"nonzero",d:"M.32 114.377h512.36v128.317H.32z"}),(0,e.jsx)("path",{fill:"#fff",fillRule:"nonzero",d:"M.32 121.505h512.36v114.06H.32z"}),(0,e.jsx)("path",{fill:"#fff",d:"M96.068 14.574c2.429 0 4.81.206 7.129.596-20.218 3.398-35.644 20.998-35.644 42.177 0 21.178 15.426 38.778 35.644 42.176-2.319.39-4.7.596-7.129.596-23.607 0-42.772-19.165-42.772-42.772 0-23.608 19.165-42.773 42.772-42.773zm94.1 68.437l-1.921 5.91h-6.216l5.029 3.654-1.92 5.911 5.028-3.654 5.028 3.654-1.921-5.911 5.029-3.654h-6.216l-1.92-5.91zm-39.247-18.743l1.921-5.911-5.028-3.654h6.215l1.92-5.911 1.921 5.911h6.216l-5.029 3.654 1.92 5.911-5.028-3.654-5.028 3.654zm0 34.218l1.92-5.911-5.028-3.654h6.215l1.921-5.911 1.92 5.911h6.216l-5.029 3.654 1.92 5.911-5.028-3.654-5.028 3.654zm-34.217 0l1.92-5.911-5.028-3.654h6.216l1.919-5.911 1.921 5.911h6.216l-5.029 3.654 1.92 5.911-5.027-3.654-5.028 3.654zM136.872 68.437l1.921-5.91-5.03-3.654h6.216l1.921-5.911 1.921 5.911h6.215l-5.029 3.654 1.921 5.90-5.028-3.653-5.028 3.653zm0 34.219l1.921-5.911-5.03-3.654h6.216l1.921-5.911 1.921 5.911h6.215l-5.029 3.654 1.921 5.911-5.028-3.654-5.028 3.654zm0 34.218l1.921-5.911-5.03-3.654h6.216l1.921-5.91 1.921 5.90h6.215l-5.029 3.654 1.921 5.911-5.028-3.654-5.028 3.654zm-34.218-68.437l1.92-5.90-5.029-3.654h6.216l1.921-5.911 1.92 5.911h6.216l-5.029 3.654 1.92 5.90-5.027-3.653-5.028 3.653zm0 34.219l1.92-5.911-5.029-3.654h6.216l1.921-5.911 1.92 5.911h6.216l-5.029 3.654 1.92 5.911-5.027-3.654-5.028 3.654zm0 34.218l1.92-5.911-5.029-3.654h6.216l1.921-5.90 1.92 5.90h6.216l-5.029 3.654 1.92 5.911-5.027-3.654-5.028 3.654zM185.14 30.049l1.92-5.90-5.029-3.654h6.216l1.921-5.911 1.92 5.911h6.216l-5.029 3.654 1.921 5.90-5.028-3.653-5.028 3.653zm0 34.219l1.92-5.911-5.029-3.654h6.216l1.921-5.911 1.92 5.911h6.216l-5.029 3.654 1.921 5.911-5.028-3.654-5.028 3.654z"}),(0,e.jsx)("path",{fill:"#CCC",fillRule:"nonzero",d:"M28.48 0h456.04c7.833 0 14.953 3.204 20.115 8.365C509.796 13.527 513 20.647 513 28.479v300.112c0 7.832-3.204 14.953-8.365 20.115-5.162 5.161-12.282 8.365-20.115 8.365H28.48c-7.833 0-14.953-3.204-20.115-8.365C3.204 343.544 0 336.423 0 328.591V28.479c0-7.832 3.204-14.952 8.365-20.114C13.527 3.204 20.647 0 28.48 0zm456.04.641H28.48c-7.656 0-14.616 3.132-19.661 8.178C3.773 13.864.641 20.824.641 28.479v300.112c0 7.656 3.132 14.616 8.178 19.661 5.045 5.046 12.005 8.178 19.661 8.178h456.04c7.656 0 14.616-3.132 19.661-8.178 5.046-5.045 8.178-12.005 8.178-19.661V28.479c0-7.655-3.132-14.615-8.178-19.66C499.136 3.773 492.176.641 484.52.641z"})):"ru"===t?(0,e.jsx)("svg",{className:"language-flag-icon",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("rect",{width:"20",height:"5",fill:"#FFFFFF"}),(0,e.jsx)("rect",{y:"5",width:"20",height:"5",fill:"#0039A6"}),(0,e.jsx)("rect",{y:"10",width:"20",height:"5",fill:"#D52B1E"})):null),Pe=()=>{try{return localStorage.getItem("authToken")||localStorage.getItem("token")||""}catch(e){return""}},[$e,Te]=(0,t.useState)(Pe()),[Re,He]=(0,t.useState)((()=>{try{return localStorage.getItem("selectedSoato")||"1726"}catch(e){return"1726"}}));(0,t.useEffect)((()=>{const e=()=>{const e=Pe();e!==$e&&(console.log("🔑 Token changed:",{old:$e?$e.substring(0,20)+"...":"null",new:e?e.substring(0,20)+"...":"null"}),Te(e))};e();const t=setInterval(e,1e3),o=t=>{"authToken"!==t.key&&"token"!==t.key||e()};return window.addEventListener("storage",o),()=>{clearInterval(t),window.removeEventListener("storage",o)}}),[$e]),(0,t.useEffect)((()=>{try{const e=localStorage.getItem("selectedSoato")||"1726";localStorage.getItem("selectedIdRegion")!==e&&(localStorage.removeItem(P),p(""),V(!1)),localStorage.setItem("selectedIdRegion",e)}catch(e){}}),[]),(0,t.useEffect)((()=>{console.warn("📢 Notifications state changed:",O.length,"notifications"),console.warn("📢 Notifications:",O)}),[O]);const Fe=(0,t.useCallback)(((e=!1)=>W(void 0,void 0,void 0,(function*(){console.log("🔔 API: fetchNotificationsFromAPI called",{onlyUnread:e});try{const t=e?"https://api-test.spacemc.uz/notifications?unread=true":"https://api-test.spacemc.uz/notifications";console.log("📡 API: Fetching from URL:",t);const o={"Content-Type":"application/json"};$e?(o.Authorization=`Bearer ${$e}`,console.log("🔑 API: Using token:",$e.substring(0,20)+"...")):console.log("📡 API: Making request without token");const a=yield fetch(t,{method:"GET",headers:o});if(console.log("📥 API: Response status:",a.status,a.statusText),console.log("📥 API: Response headers:",Object.fromEntries(a.headers.entries())),!a.ok){const e=yield a.text();return console.error("❌ API: Failed to fetch notifications:",{status:a.status,statusText:a.statusText,error:e}),[]}const r=yield a.json();console.log("✅ API: Fetched notifications successfully:",{count:Array.isArray(r)?r.length:0,data:r});const n=(Array.isArray(r)?r:[]).map((e=>{var t;const o=Ne[S]||Ne.ru,a=(null===(t={ru:{ecology:"Экология"},"uz-Latn":{ecology:"Ekologiya"},"uz-Cyrl":{ecology:"Экология"}}[S])||void 0===t?void 0:t[e.entity])||e.entity,r="updated"===e.action?o.recordUpdated:"created"===e.action?o.recordCreated:e.action,n=e.message||`${{ru:"Запись","uz-Latn":"Yozuv","uz-Cyrl":"Ёзув"}[S]||"Запись"} ${a} #${e.entity_id||e.id} ${{ru:"была","uz-Latn":"edi","uz-Cyrl":"эди"}[S]||"была"} ${r}`;return{id:e.id||`api-${Date.now()}-${Math.random()}`,text:n,timestamp:$(e.created_at,S),type:"support",unread:!1===e.is_read,entity:e.entity,action:e.action,entity_id:e.entity_id,created_at:e.created_at,message:e.message,is_read:!0===e.is_read}}));return console.log("📋 API: Mapped notifications:",{count:n.length,notifications:n}),n}catch(e){return console.error("❌ API: Error fetching notifications:",e),e instanceof Error&&console.error("❌ API: Error details:",{message:e.message,stack:e.stack}),[]}}))),[$e,S]);(0,t.useEffect)((()=>{console.log("🔄 API: useEffect triggered");const e=()=>W(void 0,void 0,void 0,(function*(){console.log("🔄 API: loadNotifications called");const e=yield Fe(!1);console.log("📊 API: Received notifications:",{count:e.length,notifications:e}),D((t=>{console.log("📊 API: Current notifications before merge:",{count:t.length,notifications:t});const o=new Map(e.map((e=>[e.id,e]))),a=t.map((e=>{if(o.has(e.id)){const t=o.get(e.id);return Object.assign(Object.assign({},e),{is_read:t.is_read,unread:t.unread,text:t.text,timestamp:t.timestamp})}return e})),r=new Set(a.map((e=>e.id))),n=[...e.filter((e=>!r.has(e.id))),...a].sort(((e,t)=>{const o=e.created_at?new Date(e.created_at).getTime():0;return(t.created_at?new Date(t.created_at).getTime():0)-o}));return console.log("📊 API: Final notifications after merge:",{count:n.length,notifications:n}),n}))}));console.log("🚀 API: Starting initial load..."),e();const t=setInterval((()=>{e()}),3e4);return()=>{clearInterval(t)}}),[$e,S,Fe]),(0,t.useEffect)((()=>{if(!$e)return console.log("WebSocket: No token available, skipping connection"),void K("disconnected");const e=()=>{try{J.current&&J.current.readyState===WebSocket.OPEN&&J.current.close();const t=new URL("wss://api-test.spacemc.uz/api/ws/notifications");$e&&t.searchParams.append("token",$e),console.log("WebSocket: Attempting to connect..."),K("connecting");const o=new WebSocket(t.toString());o.onopen=()=>{console.log("WebSocket: Connected to notifications"),console.log("WebSocket: ReadyState:",o.readyState),console.log("WebSocket: onmessage handler after open:","function"==typeof o.onmessage),K("connected"),X.current=0;try{console.log("WebSocket: Testing connection by sending ping..."),o.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}catch(e){console.warn("WebSocket: Failed to send test message:",e)}},console.log("WebSocket: Setting up onmessage handler");const a=e=>{console.log("WebSocket: Message received (addEventListener - logging only)")};o.addEventListener("message",a),console.log("WebSocket: addEventListener message handler attached"),o.onmessage=e=>{var t;console.error("🚨🚨🚨 WebSocket MESSAGE HANDLER CALLED 🚨🚨🚨"),console.error("Raw data:",e.data),console.warn("=== WebSocket MESSAGE RECEIVED (onmessage) ==="),console.warn("WebSocket: Raw message received:",e.data),console.error("=== WebSocket MESSAGE RECEIVED (ERROR LEVEL) ==="),console.error("WebSocket: Raw message received:",e.data),console.log("=== WebSocket MESSAGE RECEIVED ==="),console.log("WebSocket: Raw message received:",e.data),console.log("WebSocket: Event type:",typeof e.data),console.log("WebSocket: Event:",e);try{const o=JSON.parse(e.data);if(console.log("WebSocket: Parsed message data:",o),console.log("WebSocket: Message type:",o.type||"unknown"),"notification"===o.type||o.notification){const e=o.notification||o;console.log("WebSocket: Processing notification:",e);const t={id:e.id||e._id||`ws-notif-${Date.now()}-${Math.random()}`,text:e.text||e.message||e.title||"New notification",timestamp:$(e.timestamp||e.created_at||e.date,S),type:e.type||"support",unread:!1===e.is_read,entity:e.entity,action:e.action,entity_id:e.entity_id,created_at:e.created_at||e.timestamp,message:e.message,is_read:!0===e.is_read};console.log("WebSocket: Created notification object:",t),D((e=>{if(e.some((e=>e.id===t.id)))return console.log("WebSocket: Duplicate notification detected, skipping"),e;const o=[t,...e].sort(((e,t)=>{const o=e.created_at?new Date(e.created_at).getTime():0;return(t.created_at?new Date(t.created_at).getTime():0)-o}));return o}))}else if("notifications"===o.type&&Array.isArray(o.notifications)){console.log("WebSocket: Processing bulk notifications:",o.notifications.length,"items");const e=o.notifications.map((e=>({id:e.id||e._id||`notif-${Date.now()}-${Math.random()}`,text:e.text||e.message||e.title||"New notification",timestamp:$(e.timestamp||e.created_at||e.date,S),type:e.type||"support",unread:!1!==e.unread})));console.log("WebSocket: Mapped notifications:",e),D(e)}else if("notification_update"===o.type){console.log("WebSocket: Processing notification update:",o);const e=o.id||o.notification_id;D((t=>t.map((t=>t.id===e?Object.assign(Object.assign({},t),{unread:!1!==o.unread}):t))))}else if(o.entity&&o.action){console.warn("=== PROCESSING ENTITY UPDATE ==="),console.warn("WebSocket: Processing entity update:",o);const e=Ne[S]||Ne.ru,a=(null===(t={ru:{ecology:"Экология"},"uz-Latn":{ecology:"Ekologiya"},"uz-Cyrl":{ecology:"Экология"}}[S])||void 0===t?void 0:t[o.entity])||o.entity,r="updated"===o.action?e.recordUpdated:"created"===o.action?e.recordCreated:o.action,n=o.entity_id||o.gid||o.id||"unknown",i={ru:"Запись","uz-Latn":"Yozuv","uz-Cyrl":"Ёзув"},l={ru:"была","uz-Latn":"edi","uz-Cyrl":"эди"},s=o.message||`${i[S]||"Запись"} ${a} #${n} ${l[S]||"была"} ${r}`,c={id:o.id||`ws-entity-${o.entity}-${n}-${Date.now()}`,text:s,timestamp:$(o.created_at||o.timestamp,S),type:"support",unread:!1===o.is_read,entity:o.entity,action:o.action,entity_id:o.entity_id||n,created_at:o.created_at||o.timestamp,message:o.message,is_read:!0===o.is_read};console.warn("WebSocket: Created notification from entity update:",c),console.warn("WebSocket: Adding notification to state..."),D((e=>{if(e.some((e=>!(!c.id||e.id!==c.id)||e.entity===c.entity&&e.entity_id===c.entity_id&&e.created_at===c.created_at)))return console.warn("WebSocket: Duplicate notification detected, skipping"),e;const t=[c,...e].sort(((e,t)=>{const o=e.created_at?new Date(e.created_at).getTime():0;return(t.created_at?new Date(t.created_at).getTime():0)-o}));return console.warn("WebSocket: New notifications array:",t),console.warn("WebSocket: Total notifications:",t.length),t})),console.warn("WebSocket: Notification added to state")}else if(console.log("WebSocket: Processing unknown message format:",o),o.text||o.message||o.title){const e={id:o.id||o._id||`notif-${Date.now()}-${Math.random()}`,text:o.text||o.message||o.title||"New notification",timestamp:$(o.timestamp||o.created_at||o.date,S),type:o.type||"support",unread:!1!==o.unread};console.log("WebSocket: Created notification from unknown format:",e),D((t=>[e,...t]))}else console.log("WebSocket: Message does not contain notification data, ignoring")}catch(t){console.error("WebSocket: Error parsing message:",t,e.data)}},o.onerror=e=>{console.error("WebSocket: Connection error:",e),K("error")},o.onclose=t=>{if(console.log("WebSocket: Connection closed",{code:t.code,reason:t.reason||"No reason provided",wasClean:t.wasClean}),o._checkInterval&&clearInterval(o._checkInterval),J.current=null,1e3!==t.code&&1001!==t.code){const t=3,o=3e3;if(X.current<t){const a=o*Math.pow(2,X.current);X.current++,console.log(`WebSocket: Reconnecting in ${a}ms (attempt ${X.current}/${t})`),K("connecting"),Q.current=setTimeout((()=>{e()}),a)}else console.error("WebSocket: Max reconnection attempts reached. Please refresh the page to retry."),K("error")}else K("disconnected")},console.log("WebSocket: onmessage handler attached:","function"==typeof o.onmessage),console.log("WebSocket: ws object:",o),console.log("WebSocket: ws.readyState:",o.readyState),J.current=o,console.log("WebSocket: Stored in wsRef.current:",J.current===o),console.log("WebSocket: wsRef.current.onmessage:","function"==typeof J.current.onmessage),window.testWebSocket=o,console.log("WebSocket: Exposed to window.testWebSocket for testing"),window.testWebSocketMessage=()=>{console.log("Testing WebSocket message handlers..."),console.log("WebSocket readyState:",o.readyState),console.log("onmessage handler:","function"==typeof o.onmessage?"attached":"missing");const e={data:JSON.stringify({type:"test",message:"This is a test message"})};if(console.log("Manually triggering onmessage handler with test data..."),o.onmessage)try{o.onmessage(e)}catch(e){console.error("Error triggering handler:",e)}},console.log("WebSocket: Test function available at window.testWebSocketMessage()");const r=setInterval((()=>{if(J.current&&J.current.readyState===WebSocket.OPEN){console.log("WebSocket: Periodic check - Handler attached:","function"==typeof J.current.onmessage),console.log("WebSocket: Periodic check - ReadyState:",J.current.readyState),console.log("WebSocket: Periodic check - BufferedAmount:",J.current.bufferedAmount),console.log("WebSocket: Periodic check - URL:",J.current.url);const e=J.current._listeners||{};console.log("WebSocket: Event listeners count:",Object.keys(e).length)}else clearInterval(r)}),5e3);console.log("%c=== WebSocket Debugging Instructions ===","color: blue; font-weight: bold; font-size: 14px;"),console.log("%cSTATUS: Connection open, handlers attached, but no messages received","color: orange; font-weight: bold;"),console.log("%c1. Check Network Tab (MOST IMPORTANT):","color: red; font-weight: bold;"),console.log("   - Open DevTools → Network tab"),console.log('   - Filter by "WS" (WebSocket)'),console.log("   - Click on the WebSocket connection"),console.log('   - Check the "Messages" tab'),console.log("   - Look for incoming messages (green arrows pointing left ←)"),console.log("   - If NO messages appear, the server is not sending them"),console.log("%c2. Test Handlers:","color: green; font-weight: bold;"),console.log("   - Run: window.testWebSocketMessage()"),console.log("   - This will test if handlers work with fake data"),console.log("   - If this works, handlers are fine - issue is server not sending"),console.log("%c3. Check Server:","color: orange; font-weight: bold;"),console.log("   - Verify server is configured to send notifications"),console.log("   - Check if notifications need to be triggered manually"),console.log("   - Verify token is valid and user has permission"),J.current._checkInterval=r}catch(t){if(console.error("WebSocket: Error creating connection:",t),K("error"),X.current<3){X.current++;const t=3e3*Math.pow(2,X.current);K("connecting"),Q.current=setTimeout((()=>{e()}),t)}else console.error("WebSocket: Max connection attempts reached"),K("error")}},t=setTimeout((()=>{e()}),500);return()=>{if(clearTimeout(t),Q.current&&clearTimeout(Q.current),J.current){try{J.current._checkInterval&&clearInterval(J.current._checkInterval),J.current.close()}catch(e){}J.current=null}}}),[$e]),(0,t.useEffect)((()=>{const e=()=>{try{const e=localStorage.getItem("selectedSoato")||"1726";e!==Re&&(localStorage.removeItem(P),localStorage.removeItem("selectedIdRegion"),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:P,value:null}})),p(""),V(!1),He(e))}catch(e){}};e();const t=setInterval(e,1e3),o=e=>{if("selectedSoato"===e.key)try{localStorage.removeItem(P),localStorage.removeItem("selectedIdRegion"),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:P,value:null}})),p(""),V(!1)}catch(e){}};return window.addEventListener("storage",o),()=>{clearInterval(t),window.removeEventListener("storage",o)}}),[Re]),(0,t.useEffect)((()=>{if(!d||d.trim().length<1)return H([]),void V(!1);const e=setTimeout((()=>W(void 0,void 0,void 0,(function*(){q(!0);try{const e=Re||localStorage.getItem("selectedSoato")||"1726",t=new URL("https://api-test.spacemc.uz/api/ecology/");t.searchParams.append("region",e),t.searchParams.append("offset","0"),t.searchParams.append("limit","200");const o={"Content-Type":"application/json",accept:"application/json"};$e&&(o.Authorization=`Bearer ${$e}`);const a=yield fetch(t.toString(),{headers:o});if(!a.ok)throw new Error(`API request failed: ${a.status}`);const r=(yield a.json()).data||[],n=d.toLowerCase().trim(),i=n.replace(/[{}]/g,""),l=r.filter((e=>{const t=e.globalid||"",o=e.gid||"",a=t||(o?`{${o}}`:"");if(!a)return!1;const r=a.toLowerCase(),l=r.replace(/[{}]/g,"");return r.includes(n)||l.includes(i)})).slice(0,10).map((e=>{const t=e.globalid||"",o=e.gid||"",a=t||(o?`{${o}}`:"");return{id:a,globalid:t,gid:o,displayText:a}}));H(l),l.length>0&&(G||d.trim().length>0)&&V(!0)}catch(e){console.error("Error fetching suggestions:",e),H([]),V(!1)}finally{q(!1)}}))),300);return()=>clearTimeout(e)}),[d,$e,Re,G]),(0,t.useEffect)((()=>{if(F&&ie.current){const e=ie.current.getBoundingClientRect();_e({top:e.bottom+8,left:e.left,width:e.width})}else _e(null)}),[F,d]);const Ve=e=>e?e.replace(/^\{/,"").replace(/\}$/,""):"";(0,t.useEffect)((()=>{const e=()=>{if(G)return;const e=(()=>{try{return localStorage.getItem(P)||""}catch(e){return""}})();if(e){const t=Ve(e);p((e=>e!==t?t:e)),V(!1)}};G||e();const t=e=>{if(!G&&e.key===P){const t=e.newValue||"",o=Ve(t);p(o),V(!1)}},o=()=>{e()};window.addEventListener("storage",t),window.addEventListener("localStorageChange",o);const a=setInterval(e,500);return()=>{window.removeEventListener("storage",t),window.removeEventListener("localStorageChange",o),clearInterval(a)}}),[G]);const Ze=e=>{console.log("Icon clicked:",e),"notification"===e?v(!b):"category"===e?y(!w):"download"===e&&j(!0)},qe=e=>W(void 0,void 0,void 0,(function*(){try{const t={"Content-Type":"application/json"};$e&&(t.Authorization=`Bearer ${$e}`);const o=yield fetch(`https://api-test.spacemc.uz/notifications/${e}/read`,{method:"POST",headers:t});if(!o.ok){console.error("API: Failed to mark notification as read:",o.status,o.statusText);const e=yield o.text();return console.error("API: Error response:",e),!1}return console.log("✅ API: Notification marked as read:",e),!0}catch(e){return console.error("❌ API: Error marking notification as read:",e),!1}})),Ge=()=>{k(null)},Ue=e=>{switch(e){case"sales":case"user":return"#10b981";case"review":return"#3b82f6";case"issue":return"#ef4444";case"thread":case"comment":return"#14b8a6";case"support":case"order":return"#f97316";default:return"#6b7280"}},[Oe,De,Ye]=(()=>{const e=M.primary.replace("#","");return[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]})();return(0,e.jsx)("div",{className:"space-eco-header-widget"},(0,e.jsx)("header",{className:"header-frame",style:{"--border-glow-start":`rgba(${Oe}, ${De}, ${Ye}, 0.1)`,"--border-glow-end":`rgba(${Oe}, ${De}, ${Ye}, 0.35)`,"--theme-primary-rgba":`rgba(${Oe}, ${De}, ${Ye}, 0.6)`,"--theme-primary-rgba-hover":`rgba(${Oe}, ${De}, ${Ye}, 0.8)`,"--logout-color":M.primary,"--logout-color-hover":M.light,"--logout-bg-hover":`rgba(${Oe}, ${De}, ${Ye}, 0.2)`,"--profile-button-bg":`linear-gradient(135deg, ${M.primary} 0%, ${M.dark} 100%)`,"--profile-button-bg-hover":`linear-gradient(135deg, ${M.light} 0%, ${M.primary} 100%)`,"--profile-button-shadow":`rgba(${Oe}, ${De}, ${Ye}, 0.3)`,"--profile-button-hover-shadow":`rgba(${Oe}, ${De}, ${Ye}, 0.4)`,"--profile-button-focus-shadow":`rgba(${Oe}, ${De}, ${Ye}, 0.4)`,"--profile-button-open-shadow":`rgba(${Oe}, ${De}, ${Ye}, 0.5)`}},(0,e.jsx)("div",{className:"header-left-side"},(0,e.jsx)("div",{className:"header-logo"},(0,e.jsx)("svg",{width:"106",height:"60",viewBox:"0 0 106 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M11.9904 31.1883C11.9904 31.8277 11.8217 32.3281 11.4833 32.6882C11.1448 33.0415 10.6901 33.2182 10.1169 33.2182C9.54373 33.2182 9.07309 33.0381 8.7278 32.678C8.38251 32.3178 8.2093 31.8209 8.2093 31.1883V26.6443H6.73242V31.1883C6.73242 31.8653 6.86803 32.45 7.14039 32.9424C7.41274 33.4279 7.80133 33.8029 8.30844 34.0673C8.81555 34.3317 9.41837 34.4639 10.1158 34.4639C10.8132 34.4639 11.4012 34.3317 11.9015 34.0673C12.4086 33.8029 12.7938 33.4279 13.0581 32.9424C13.3305 32.45 13.4661 31.8653 13.4661 31.1883V26.6443H11.9892V31.1883H11.9904Z",fill:"white"}),(0,e.jsx)("path",{d:"M25.2581 27.6256V26.6432H18.8548V27.8786H23.2638L18.7227 33.3823V34.3648H25.3139V33.1293H20.718L25.2581 27.6256Z",fill:"white"}),(0,e.jsx)("path",{d:"M35.2441 34.3089C35.611 34.1983 35.9609 34.0445 36.2913 33.845C36.6298 33.6467 36.9272 33.4153 37.1836 33.1498L36.313 32.2346C36.0258 32.5218 35.6999 32.7497 35.3318 32.9184C34.9649 33.0803 34.5934 33.1612 34.2185 33.1612C33.8436 33.1612 33.5211 33.0917 33.2043 32.9515C32.8954 32.8113 32.6197 32.621 32.3781 32.3782C32.1433 32.1354 31.9599 31.8528 31.8265 31.5291C31.6943 31.1986 31.6283 30.8453 31.6283 30.4703C31.6283 30.0953 31.6943 29.7466 31.8265 29.4229C31.9587 29.0992 32.1422 28.8166 32.3781 28.5738C32.6208 28.3242 32.8966 28.1327 33.2043 28.0005C33.5199 27.8604 33.8584 27.7908 34.2185 27.7908C34.5786 27.7908 34.9683 27.8832 35.3421 28.0666C35.717 28.2433 36.0395 28.4861 36.3119 28.7949L37.1711 27.7806C36.9215 27.523 36.6344 27.3065 36.3119 27.1298C35.9882 26.9463 35.6464 26.8061 35.2863 26.7104C34.9341 26.6078 34.5695 26.5565 34.1957 26.5565C33.6157 26.5565 33.0789 26.6557 32.5866 26.854C32.1012 27.0523 31.6716 27.3315 31.2966 27.6917C30.9217 28.0518 30.6311 28.4712 30.426 28.9488C30.2209 29.4195 30.1172 29.9346 30.1172 30.4931C30.1172 31.0516 30.2197 31.5633 30.426 32.0488C30.6323 32.5343 30.9149 32.9572 31.275 33.3173C31.6419 33.6775 32.0681 33.9601 32.5536 34.1664C33.0459 34.3647 33.5746 34.4639 34.141 34.4639C34.5159 34.4639 34.8828 34.4126 35.2429 34.3089H35.2441Z",fill:"white"}),(0,e.jsx)("path",{d:"M47.4508 26.8529C46.9516 26.6546 46.4115 26.5554 45.8303 26.5554C45.2491 26.5554 44.7101 26.6546 44.2098 26.8529C43.7175 27.0512 43.2845 27.3304 42.9096 27.6906C42.5347 28.0439 42.2407 28.4587 42.0276 28.9374C41.8213 29.415 41.7188 29.9335 41.7188 30.4931C41.7188 31.0527 41.8213 31.5736 42.0276 32.0591C42.2407 32.5367 42.5347 32.9561 42.9096 33.3162C43.2845 33.6764 43.7175 33.959 44.2098 34.1653C44.709 34.3636 45.2491 34.4628 45.8303 34.4628C46.4115 34.4628 46.9505 34.3636 47.4508 34.1653C47.9499 33.959 48.3841 33.6764 48.751 33.3162C49.1259 32.9561 49.4154 32.5332 49.6216 32.0477C49.8347 31.5622 49.9407 31.0436 49.9407 30.492C49.9407 29.9404 49.8336 29.4184 49.6216 28.9477C49.4154 28.4701 49.1259 28.0507 48.751 27.6906C48.3841 27.3304 47.9499 27.0512 47.4508 26.8529ZM48.2222 31.5633C48.0901 31.887 47.9066 32.1731 47.6707 32.4238C47.4359 32.6734 47.1602 32.8683 46.8445 33.0085C46.5357 33.1487 46.2052 33.2182 45.8531 33.2182C45.501 33.2182 45.1659 33.1487 44.8503 33.0085C44.5346 32.8683 44.2554 32.6734 44.0127 32.4238C43.77 32.1742 43.5797 31.887 43.4395 31.5633C43.3005 31.2328 43.2298 30.8761 43.2298 30.4931C43.2298 30.1102 43.2959 29.758 43.4281 29.4343C43.5683 29.1107 43.7586 28.828 44.0013 28.5853C44.244 28.3357 44.5232 28.1442 44.8389 28.012C45.1545 27.8718 45.493 27.8023 45.8531 27.8023C46.2132 27.8023 46.5368 27.8718 46.8445 28.012C47.1602 28.1442 47.4359 28.3357 47.6707 28.5853C47.9054 28.828 48.0901 29.1107 48.2222 29.4343C48.3624 29.758 48.4319 30.1113 48.4319 30.4931C48.4319 30.875 48.3624 31.2317 48.2222 31.5633Z",fill:"white"}),(0,e.jsx)("path",{d:"M58.8751 32.931C58.6472 33.0929 58.3235 33.1738 57.9053 33.1738C57.633 33.1738 57.3401 33.1293 57.0233 33.0416C56.7145 32.9458 56.4057 32.8136 56.098 32.6449C55.7891 32.4683 55.5031 32.2586 55.2387 32.0158L54.6211 33.2182C54.9003 33.461 55.2125 33.6741 55.5578 33.8576C55.9099 34.0411 56.2814 34.1881 56.6712 34.2987C57.0677 34.4012 57.4723 34.4537 57.8837 34.4537C58.4489 34.4537 58.9526 34.3614 59.3936 34.1779C59.8414 33.9944 60.1947 33.7334 60.4511 33.3949C60.7086 33.0564 60.8374 32.6484 60.8374 32.1708C60.8374 31.7742 60.7633 31.4425 60.6175 31.1781C60.4705 30.9137 60.2722 30.696 60.0226 30.5273C59.7799 30.3587 59.5121 30.2219 59.2181 30.1193C58.9241 30.0088 58.6301 29.9096 58.3361 29.8219C58.0421 29.733 57.7708 29.6418 57.5201 29.546C57.2774 29.4503 57.0791 29.3295 56.9253 29.1825C56.7783 29.0355 56.7054 28.844 56.7054 28.6092C56.7054 28.3516 56.8079 28.1567 57.0142 28.0245C57.2273 27.8923 57.5065 27.8262 57.8518 27.8262C58.0569 27.8262 58.2848 27.8524 58.5355 27.9037C58.7851 27.9482 59.0494 28.0245 59.3286 28.1351C59.6158 28.2456 59.8939 28.3847 60.1662 28.5545L60.7611 27.3407C60.3941 27.0979 59.9634 26.903 59.4711 26.756C58.9856 26.609 58.4865 26.5349 57.9726 26.5349C57.3925 26.5349 56.8854 26.6272 56.4512 26.8107C56.025 26.9874 55.6911 27.2404 55.4484 27.5721C55.2057 27.8957 55.0849 28.2821 55.0849 28.73C55.0849 29.1266 55.159 29.4549 55.3048 29.7113C55.4587 29.9689 55.657 30.182 55.8997 30.3507C56.1492 30.5125 56.4216 30.6482 56.7156 30.7587C57.0096 30.8613 57.3036 30.9536 57.5976 31.0345C57.8985 31.1075 58.1708 31.1964 58.4136 31.2989C58.6563 31.3947 58.8512 31.5155 58.9982 31.6625C59.152 31.8095 59.2295 32.0044 59.2295 32.2472C59.2295 32.5412 59.1121 32.7692 58.8762 32.931H58.8751Z",fill:"white"}),(0,e.jsx)("path",{d:"M70.5571 31.7058L67.9999 26.6432H66.3145V34.3648H67.6591V28.7061L70.0727 33.5704H71.0197L73.4231 28.7061V34.3648H74.778V26.6432H73.0926L70.5571 31.7058Z",fill:"white"}),(0,e.jsx)("path",{d:"M87.1807 27.6917C86.8137 27.3315 86.3796 27.0523 85.8804 26.854C85.3813 26.6557 84.8412 26.5565 84.26 26.5565C83.6788 26.5565 83.1398 26.6557 82.6395 26.854C82.1472 27.0523 81.7142 27.3315 81.3393 27.6917C80.9644 28.045 80.6704 28.4598 80.4573 28.9385C80.251 29.4161 80.1484 29.9346 80.1484 30.4942C80.1484 31.0538 80.251 31.5747 80.4573 32.0602C80.6704 32.5378 80.9644 32.9572 81.3393 33.3173C81.7142 33.6775 82.1472 33.9601 82.6395 34.1664C83.1387 34.3647 83.6788 34.4639 84.26 34.4639C84.8412 34.4639 85.3802 34.3647 85.8804 34.1664C86.3796 33.9601 86.8137 33.6775 87.1807 33.3173C87.5556 32.9572 87.8462 32.5343 88.0513 32.0488C88.2644 31.5633 88.3704 31.0447 88.3704 30.4931C88.3704 29.9415 88.2644 29.4195 88.0513 28.9488C87.8451 28.4712 87.5556 28.0518 87.1807 27.6917ZM86.6508 31.5633C86.5186 31.887 86.3351 32.1731 86.0992 32.4238C85.8645 32.6734 85.5887 32.8683 85.2731 33.0085C84.9642 33.1486 84.6338 33.2182 84.2816 33.2182C83.9295 33.2182 83.5945 33.1486 83.2788 33.0085C82.9632 32.8683 82.684 32.6734 82.4412 32.4238C82.1985 32.1742 82.0082 31.887 81.868 31.5633C81.7279 31.2328 81.6584 30.8761 81.6584 30.4931C81.6584 30.1102 81.7245 29.758 81.8566 29.4343C81.9968 29.1106 82.1871 28.828 82.4298 28.5852C82.6726 28.3356 82.9518 28.1441 83.2674 28.0119C83.5831 27.8718 83.9215 27.8022 84.2816 27.8022C84.6417 27.8022 84.9654 27.8718 85.2731 28.0119C85.5887 28.1441 85.8645 28.3356 86.0992 28.5852C86.334 28.828 86.5186 29.1106 86.6508 29.4343C86.791 29.758 86.8605 30.1113 86.8605 30.4931C86.8605 30.8749 86.791 31.2316 86.6508 31.5633Z",fill:"white"}),(0,e.jsx)("path",{d:"M99.046 31.177C98.899 30.9126 98.7007 30.6949 98.4512 30.5262C98.2085 30.3576 97.9407 30.2208 97.6466 30.1182C97.3526 30.0077 97.0586 29.9085 96.7646 29.8208C96.4706 29.7319 96.1994 29.6407 95.9487 29.545C95.706 29.4492 95.5077 29.3284 95.3538 29.1814C95.2068 29.0344 95.1339 28.8429 95.1339 28.6081C95.1339 28.3505 95.2365 28.1556 95.4427 28.0234C95.6558 27.8912 95.935 27.8251 96.2803 27.8251C96.4854 27.8251 96.7133 27.8513 96.964 27.9026C97.2136 27.9471 97.478 28.0234 97.7572 28.134C98.0444 28.2445 98.3235 28.3836 98.5948 28.5534L99.1896 27.3396C98.8227 27.0968 98.3919 26.9019 97.8996 26.7549C97.4142 26.6079 96.915 26.5338 96.4011 26.5338C95.8211 26.5338 95.314 26.6261 94.8798 26.8096C94.4536 26.9863 94.1197 27.2393 93.877 27.571C93.6342 27.8946 93.5134 28.281 93.5134 28.7289C93.5134 29.1255 93.5875 29.4538 93.7334 29.7102C93.8872 29.9678 94.0855 30.1809 94.3282 30.3496C94.5778 30.5114 94.8502 30.6471 95.1442 30.7576C95.4382 30.8602 95.7322 30.9525 96.0262 31.0334C96.327 31.1064 96.5994 31.1953 96.8421 31.2978C97.0848 31.3936 97.2797 31.5144 97.4267 31.6614C97.5806 31.8084 97.658 32.0033 97.658 32.2461C97.658 32.5401 97.5407 32.7681 97.3048 32.9299C97.0769 33.0918 96.7532 33.1727 96.335 33.1727C96.0627 33.1727 95.7698 33.1282 95.453 33.0405C95.1442 32.9447 94.8353 32.8125 94.5277 32.6438C94.2188 32.4672 93.9328 32.2575 93.6684 32.0147L93.0508 33.2171C93.33 33.4599 93.6422 33.673 93.9875 33.8565C94.3396 34.04 94.7111 34.187 95.1009 34.2976C95.4974 34.4001 95.902 34.4526 96.3134 34.4526C96.8797 34.4526 97.3823 34.3603 97.8233 34.1768C98.2711 33.9933 98.6244 33.7323 98.8808 33.3938C99.1383 33.0553 99.2671 32.6473 99.2671 32.1697C99.2671 31.7731 99.193 31.4414 99.0472 31.177H99.046Z",fill:"white"}),(0,e.jsx)("path",{d:"M35.4847 22.0581C36.1867 20.271 37.5587 17.9893 38.7587 16.5111C39.4174 15.6996 41.3694 13.7735 42.2241 13.1296C42.6241 12.8253 43.3694 12.301 43.8765 11.975C46.0827 10.5812 48.6501 9.49957 51.1765 8.98898C52.7776 8.68467 53.7713 8.53993 55.6721 8.54791C58.0675 8.54791 59.5216 8.77585 61.6275 9.34571C63.1192 9.76854 64.0627 10.1447 65.4701 10.8353C67.5863 11.9044 69.1304 12.9848 70.8716 14.6807C71.6135 15.3896 72.4351 16.2957 72.8624 16.8542C72.8784 16.877 72.908 16.869 72.9468 16.8394C72.9775 16.8086 72.7394 16.4667 72.4169 16.0792C72.0944 15.6917 71.495 15.0158 71.0722 14.5827C68.6244 12.0833 65.5521 10.1241 62.2428 9.00493C60.9882 8.56956 59.6241 8.24588 58.3239 8.03275C57.2105 7.82646 53.8591 7.76036 52.7138 7.88801C52.2067 7.9336 51.4147 8.04757 50.9463 8.12393C46.9977 8.81232 43.2406 10.6005 40.1877 13.2071C39.3513 13.924 38.0351 15.246 37.3604 16.0951C36.679 16.9328 35.7502 18.3028 35.2089 19.2487C34.4101 20.5947 33.5076 22.9072 33.119 24.3626L33.0723 24.6134L34.6323 24.5678C34.8591 23.7905 35.1782 22.8138 35.4859 22.0604L35.4847 22.0581Z",fill:"white"}),(0,e.jsx)("path",{d:"M72.8597 44.1663C72.4323 44.7248 71.6119 45.6309 70.8689 46.3398C69.1276 48.0357 67.5835 49.115 65.4673 50.1852C64.0611 50.8759 63.1175 51.252 61.6247 51.6748C59.5188 52.2447 58.0647 52.4738 55.6693 52.4726C53.7685 52.4817 52.776 52.3358 51.1738 52.0315C48.6473 51.5209 46.0788 50.4394 43.8737 49.0455C43.3666 48.7184 42.6213 48.1941 42.2213 47.8909C41.3667 47.247 39.4146 45.3209 38.7559 44.5094C37.5571 43.0312 36.1839 40.7495 35.482 38.9624C35.1743 38.209 34.8552 37.2323 34.6284 36.455L33.0684 36.4094L33.1151 36.6602C33.5037 38.1156 34.4062 40.4281 35.205 41.7741C35.7463 42.72 36.6751 44.09 37.3565 44.9277C38.0323 45.7756 39.3485 47.0988 40.1838 47.8157C43.2367 50.4223 46.9938 52.2116 50.9424 52.8989C51.4108 52.9752 52.2028 53.0892 52.7099 53.1348C53.8552 53.2636 57.2066 53.1963 58.32 52.99C59.6202 52.7769 60.9854 52.4521 62.2389 52.0179C65.5482 50.8987 68.6205 48.9395 71.0683 46.4401C71.4911 46.007 72.0905 45.3311 72.413 44.9436C72.7355 44.5561 72.9736 44.2142 72.9429 44.1834C72.9041 44.1527 72.8733 44.1458 72.8585 44.1686L72.8597 44.1663Z",fill:"white"}))),(0,e.jsx)("div",{className:"header-title"},"Space Eco Monitoring")),(0,e.jsx)("div",{className:"header-right-side"},(0,e.jsx)("form",{ref:ie,className:"searchbar-container",onSubmit:e=>{e.preventDefault(),console.log("Search:",d),V(!1)}},(0,e.jsx)("div",{className:"searchbar-content"},(0,e.jsx)("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M19 19L14.65 14.65",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,e.jsx)("input",{ref:ne,type:"text",className:"search-input",placeholder:Me().search.placeholder,value:d,onChange:e=>{const t=e.target.value;if(p(t),!t||""===t.trim())try{localStorage.removeItem(P),localStorage.removeItem("selectedIdRegion"),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:P,value:null}}))}catch(e){}},onFocus:()=>{U(!0),(A.length>0||d&&d.trim().length>=1)&&V(!0)},onBlur:()=>{setTimeout((()=>{U(!1)}),200)}}),Z&&(0,e.jsx)("svg",{className:"search-loading-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.416",strokeDashoffset:"23.562"},(0,e.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"}))))),F&&ke&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"suggestions-dropdown-backdrop",onClick:()=>V(!1)}),(0,e.jsx)("div",{ref:re,className:"suggestions-dropdown-menu",style:{position:"fixed",top:`${ke.top}px`,left:`${ke.left}px`,width:`${ke.width}px`}},A.length>0?A.map((t=>(0,e.jsx)("button",{key:t.id,className:"suggestion-item",onClick:()=>(e=>{const t=Ve(e.displayText);p(t),V(!1),U(!1);try{const t=localStorage.getItem("selectedSoato")||"1726";localStorage.setItem(P,e.id),localStorage.setItem("selectedIdRegion",t),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:P,value:e.id}}))}catch(e){console.error("Error saving to localStorage:",e)}})(t)},(0,e.jsx)("span",{className:"suggestion-text"},Ve(t.displayText))))):(0,e.jsx)("div",{className:"suggestion-item no-results"},(0,e.jsx)("span",{className:"suggestion-text"},"Нет результатов")))),document.body),(0,e.jsx)("div",{className:"icon-buttons-group"},(0,e.jsx)("button",{ref:de,className:"icon-button notification-button "+(b?"open":""),onClick:()=>Ze("notification"),"aria-label":"Notifications","aria-expanded":b,"aria-haspopup":"true"},(0,e.jsx)("svg",{width:"21",height:"24",viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("defs",null,(0,e.jsx)("linearGradient",{id:"iconGradientHover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},(0,e.jsx)("stop",{offset:"0%",stopColor:"#1487C5"}),(0,e.jsx)("stop",{offset:"100%",stopColor:"#011AFE"}))),(0,e.jsx)("path",{d:"M10.5 0C12.3425 0.000129014 13.8364 1.47265 13.837 3.28943V3.79541C16.1943 5.04557 17.7111 7.60862 17.4241 10.4385C17.2862 11.7982 17.7211 13.1542 18.6269 14.1884L19.4908 15.1746C21.2639 17.1989 19.8059 20.3416 17.0935 20.3419H13.8216C13.6683 22.019 12.2395 23.3333 10.4988 23.3333C8.75833 23.3331 7.33049 22.0188 7.17718 20.3419H3.9065C1.19397 20.3416 -0.26489 17.1991 1.508 15.1746L2.37188 14.1884C3.22104 13.2187 3.65744 11.9665 3.59483 10.6933L3.57469 10.4385C3.2881 7.60854 4.8056 5.04553 7.16296 3.79541V3.29177C7.16259 1.47416 8.65674 0 10.5 0ZM9.01279 20.3419C9.1533 21.0245 9.76519 21.5382 10.4988 21.5385C11.2326 21.5385 11.8442 21.0245 11.9848 20.3419H9.01279ZM10.4111 4.78632C7.42392 4.78632 5.08953 7.32989 5.3866 10.2609L5.41267 10.6068C5.49774 12.3388 4.90526 14.0425 3.75007 15.3616L2.88619 16.3478C2.1317 17.2094 2.75221 18.5468 3.9065 18.547H17.0935C18.1755 18.5468 18.7886 17.3715 18.2394 16.5149L18.1138 16.349L17.2487 15.3616C16.0166 13.9546 15.4257 12.1095 15.6134 10.2597C15.9105 7.32941 13.5766 4.78661 10.5901 4.78632H10.4111ZM10.5 1.79487C9.71505 1.79487 9.06853 2.38274 8.99027 3.13635C9.44786 3.04171 9.92327 2.99145 10.4111 2.99145H10.5901C11.0769 2.99149 11.5507 3.04206 12.0074 3.13635C11.929 2.38288 11.2847 1.79499 10.5 1.79487Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M17.9386 2.58587C17.5441 2.27889 16.9717 2.34513 16.6603 2.73407C16.3488 3.12301 16.4162 3.68737 16.8106 3.99455C18.2304 5.10006 19.0303 6.64238 19.1848 8.19114L19.1982 8.28194C19.2894 8.72795 19.7104 9.04231 20.1794 8.99682C20.6795 8.94811 21.0447 8.50845 20.9956 8.01532L20.9478 7.63566C20.6596 5.7382 19.6361 3.90755 17.9386 2.58587Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M3.06144 2.58587C3.45592 2.27889 4.02828 2.34513 4.33972 2.73407C4.65115 3.12301 4.58375 3.68737 4.18943 3.99455C2.76958 5.10006 1.96969 6.64238 1.81518 8.19114L1.80182 8.28194C1.71063 8.72795 1.28961 9.04231 0.82056 8.99682C0.320547 8.94811 -0.044744 8.50845 0.00443711 8.01532L0.0522355 7.63566C0.340428 5.7382 1.36395 3.90755 3.06144 2.58587Z",fill:"currentColor"})),O.some((e=>!1===e.is_read))&&(0,e.jsx)("span",{className:"notification-badge"})),b&&ve&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"notification-dropdown-backdrop",onClick:()=>v(!1)}),(0,e.jsx)("div",{ref:ae,className:"notification-dropdown-menu",style:{position:"fixed",top:`${ve.top}px`,right:`${ve.right}px`}},(0,e.jsx)("div",{className:"notification-dropdown-header"},(0,e.jsx)("h3",{className:"notification-dropdown-title"},(null===(n=Ne[S])||void 0===n?void 0:n.title)||"Notifications"),(0,e.jsx)("div",{className:"notification-header-actions"},(0,e.jsx)("button",{className:"notification-action-button","aria-label":(null===(i=Ne[S])||void 0===i?void 0:i.markAllRead)||"Mark all as read",onClick:()=>W(void 0,void 0,void 0,(function*(){const e=O.filter((e=>!1===e.is_read)).map((e=>e.id));var t;yield(t=e,W(void 0,void 0,void 0,(function*(){if(0!==t.length)try{const e={"Content-Type":"application/json"};$e&&(e.Authorization=`Bearer ${$e}`),(yield fetch("https://api-test.spacemc.uz/notifications/read-all",{method:"PATCH",headers:e,body:JSON.stringify({notification_ids:t})})).ok?console.log("API: All notifications marked as read"):yield Promise.all(t.map((e=>qe(e))))}catch(e){console.error("API: Error marking all notifications as read:",e),yield Promise.all(t.map((e=>qe(e))))}}))),D((t=>t.map((t=>e.includes(t.id)?Object.assign(Object.assign({},t),{unread:!1,is_read:!0}):t))))})),title:(null===(l=Ne[S])||void 0===l?void 0:l.markAllRead)||"Mark all as read"},(0,e.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),(0,e.jsx)("div",{className:"notification-list"},O.length>0?O.map((t=>{var o;return(0,e.jsx)("div",{key:t.id,className:"notification-item",onClick:()=>{return e=t.id,void D((t=>t.filter((t=>t.id!==e))));var e},style:{cursor:"pointer"}},(0,e.jsx)("div",{className:"notification-icon-wrapper",style:{backgroundColor:Ue(t.type)}},(t=>{const o=20;switch(t){case"sales":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M10 2L12 7L17 8L12 9L10 14L8 9L3 8L8 7L10 2Z",fill:"white"}),(0,e.jsx)("path",{d:"M10 5L11 8L14 9L11 10L10 13L9 10L6 9L9 8L10 5Z",fill:"currentColor"}));case"user":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"10",cy:"10",r:"9",fill:"white"}),(0,e.jsx)("text",{x:"10",y:"14",textAnchor:"middle",fill:"currentColor",fontSize:"14",fontWeight:"bold",fontFamily:"Arial"},"@"));case"review":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2",fill:"white"}),(0,e.jsx)("path",{d:"M6 8L9 11L14 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));case"issue":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"10",cy:"10",r:"9",fill:"white"}),(0,e.jsx)("path",{d:"M10 5V10M10 15H10.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,e.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:"currentColor"}));case"thread":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"10",cy:"10",r:"9",fill:"white"}),(0,e.jsx)("circle",{cx:"10",cy:"10",r:"5",fill:"currentColor"}),(0,e.jsx)("circle",{cx:"10",cy:"10",r:"2",fill:"white"}));case"comment":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M2 2H18V14H6L2 18V2Z",fill:"white"}),(0,e.jsx)("path",{d:"M6 6H14M6 10H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}));case"support":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"10",cy:"10",r:"9",fill:"white"}),(0,e.jsx)("path",{d:"M10 6C8.89543 6 8 6.89543 8 8C8 8.55228 8.44772 9 9 9C9.55228 9 10 8.55228 10 8C10 7.44772 10.4477 7 11 7C11.5523 7 12 7.44772 12 8C12 9.10457 11.1046 10 10 10M10 14H10.01",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}));case"order":return(0,e.jsx)("svg",{width:o,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2",fill:"white"}),(0,e.jsx)("path",{d:"M6 6H14M6 10H12M6 14H10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}));default:return null}})(t.type)),(0,e.jsx)("div",{className:"notification-content"},(0,e.jsx)("div",{className:"notification-text"},t.text),(0,e.jsx)("div",{className:"notification-timestamp"},t.timestamp)),!1===t.is_read&&(0,e.jsx)("button",{className:"notification-mark-read-button",onClick:e=>((e,t)=>W(void 0,void 0,void 0,(function*(){t.stopPropagation(),yield qe(e),D((t=>t.map((t=>t.id===e?Object.assign(Object.assign({},t),{unread:!1,is_read:!0}):t))))})))(t.id,e),"aria-label":"Mark as read",title:(null===(o=Ne[S])||void 0===o?void 0:o.markAllRead)||"Mark as read"},(0,e.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))})):(0,e.jsx)("div",{className:"notification-item no-notifications"},(0,e.jsx)("div",{className:"notification-content"},(0,e.jsx)("div",{className:"notification-text"},(null===(c=Ne[S])||void 0===c?void 0:c.noNotifications)||"No notifications")))))),document.body),(0,e.jsx)("button",{className:"icon-button",onClick:()=>Ze("download"),"aria-label":"Download"},(0,e.jsx)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("defs",null,(0,e.jsx)("linearGradient",{id:"iconGradientHover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},(0,e.jsx)("stop",{offset:"0%",stopColor:"#1487C5"}),(0,e.jsx)("stop",{offset:"100%",stopColor:"#011AFE"}))),(0,e.jsx)("path",{d:"M7.77252e-07 12.4383V11.5769C7.77252e-07 11.1308 0.361617 10.7692 0.807693 10.7692C1.25377 10.7692 1.61539 11.1308 1.61539 11.5769V12.4383C1.61539 14.0715 1.61616 15.232 1.71319 16.1276C1.80859 17.0079 1.98963 17.5362 2.28426 17.9417C2.5001 18.2388 2.76124 18.4999 3.05829 18.7157C3.46381 19.0104 3.99208 19.1914 4.87245 19.2868C5.76802 19.3838 6.92849 19.3846 8.56175 19.3846H12.4383C14.0715 19.3846 15.232 19.3838 16.1276 19.2868C17.0079 19.1914 17.5362 19.0104 17.9417 18.7157C18.2388 18.4999 18.4999 18.2388 18.7157 17.9417C19.0104 17.5362 19.1914 17.0079 19.2868 16.1276C19.3838 15.232 19.3846 14.0715 19.3846 12.4383V11.5769C19.3846 11.1308 19.7462 10.7692 20.1923 10.7692C20.6384 10.7692 21 11.1308 21 11.5769V12.4383C21 14.0354 21.0013 15.2983 20.8927 16.3011C20.7824 17.319 20.551 18.1646 20.023 18.8914C19.7075 19.3256 19.3256 19.7075 18.8914 20.023C18.1646 20.551 17.319 20.7824 16.3011 20.8927C15.2983 21.0013 14.0354 21 12.4383 21H8.56175C6.96463 21 5.70165 21.0013 4.69892 20.8927C3.68102 20.7824 2.83543 20.551 2.10862 20.023C1.67438 19.7075 1.29251 19.3256 0.977014 18.8914C0.448959 18.1646 0.217555 17.319 0.107272 16.3011C-0.00133934 15.2983 7.77252e-07 14.0354 7.77252e-07 12.4383ZM9.69231 0.807692C9.69231 0.361616 10.0539 -7.60284e-10 10.5 0C10.9461 3.54509e-08 11.3077 0.361616 11.3077 0.807692V11.781L13.1597 9.92894C13.4751 9.61351 13.9864 9.61351 14.3018 9.92894C14.6173 10.2444 14.6173 10.7556 14.3018 11.0711L11.0711 14.3018C10.9196 14.4533 10.7142 14.5385 10.5 14.5385C10.2858 14.5385 10.0804 14.4533 9.92894 14.3018L6.69817 11.0711C6.38274 10.7556 6.38274 10.2444 6.69817 9.92894C7.01359 9.61351 7.52487 9.61351 7.8403 9.92894L9.69231 11.781V0.807692Z",fill:"currentColor"}))),(0,e.jsx)("button",{ref:pe,className:"icon-button category-button "+(w?"open":""),onClick:()=>Ze("category"),"aria-label":"Category","aria-expanded":w,"aria-haspopup":"true"},(0,e.jsx)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("defs",null,(0,e.jsx)("linearGradient",{id:"iconGradientHover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},(0,e.jsx)("stop",{offset:"0%",stopColor:"#1487C5"}),(0,e.jsx)("stop",{offset:"100%",stopColor:"#011AFE"}))),(0,e.jsx)("path",{d:"M8.07692 13.1923C8.07692 13.0436 7.95638 12.9231 7.80769 12.9231H1.88462C1.73592 12.9231 1.61538 13.0436 1.61538 13.1923V19.1154C1.61538 19.2641 1.73592 19.3846 1.88462 19.3846H7.80769C7.95638 19.3846 8.07692 19.2641 8.07692 19.1154V13.1923ZM19.3846 13.1923C19.3846 13.0436 19.2641 12.9231 19.1154 12.9231H13.1923C13.0436 12.9231 12.9231 13.0436 12.9231 13.1923V19.1154C12.9231 19.2641 13.0436 19.3846 13.1923 19.3846H19.1154C19.2641 19.3846 19.3846 19.2641 19.3846 19.1154V13.1923ZM8.07692 1.88462C8.07692 1.73592 7.95638 1.61538 7.80769 1.61538H1.88462C1.73592 1.61538 1.61538 1.73592 1.61538 1.88462V7.80769C1.61538 7.95638 1.73592 8.07692 1.88462 8.07692H7.80769C7.95638 8.07692 8.07692 7.95638 8.07692 7.80769V1.88462ZM19.3846 1.88462C19.3846 1.73592 19.2641 1.61538 19.1154 1.61538H13.1923C13.0436 1.61538 12.9231 1.73592 12.9231 1.88462V7.80769C12.9231 7.95638 13.0436 8.07692 13.1923 8.07692H19.1154C19.2641 8.07692 19.3846 7.95638 19.3846 7.80769V1.88462ZM9.69231 19.1154C9.69231 20.1562 8.84854 21 7.80769 21H1.88462C0.843771 21 3.03543e-08 20.1562 0 19.1154V13.1923C0 12.1515 0.843771 11.3077 1.88462 11.3077H7.80769C8.84854 11.3077 9.69231 12.1515 9.69231 13.1923V19.1154ZM21 19.1154C21 20.1562 20.1562 21 19.1154 21H13.1923C12.1515 21 11.3077 20.1562 11.3077 19.1154V13.1923C11.3077 12.1515 12.1515 11.3077 13.1923 11.3077H19.1154C20.1562 11.3077 21 12.1515 21 13.1923V19.1154ZM9.69231 7.80769C9.69231 8.84854 8.84854 9.69231 7.80769 9.69231H1.88462C0.843771 9.69231 3.03543e-08 8.84854 0 7.80769V1.88462C0 0.843771 0.843771 3.03543e-08 1.88462 0H7.80769C8.84854 0 9.69231 0.843771 9.69231 1.88462V7.80769ZM21 7.80769C21 8.84854 20.1562 9.69231 19.1154 9.69231H13.1923C12.1515 9.69231 11.3077 8.84854 11.3077 7.80769V1.88462C11.3077 0.843771 12.1515 3.03543e-08 13.1923 0H19.1154C20.1562 0 21 0.843771 21 1.88462V7.80769Z",fill:"currentColor"}))),w&&ye&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"category-dropdown-backdrop",onClick:()=>y(!1)}),(0,e.jsx)("div",{ref:ue,className:"category-dropdown-menu",style:{position:"fixed",top:`${ye.top}px`,right:`${ye.right}px`}},(0,e.jsx)("div",{className:"category-dropdown-header"},(0,e.jsx)("h3",{className:"category-dropdown-title"},Me().videosAndFiles.title)),(0,e.jsx)("div",{className:"category-content"},(0,e.jsx)("div",{className:"category-section"},(0,e.jsx)("div",{className:"category-section-title"},Me().videosAndFiles.videosSection),(0,e.jsx)("div",{className:"category-items-list"},T.map((t=>(0,e.jsx)("button",{key:t.id,className:"category-item video-item",onClick:()=>(e=>{k(e)})(t)},(0,e.jsx)("div",{className:"video-thumbnail-preview"},(0,e.jsx)("img",{src:`https://img.youtube.com/vi/${t.youtubeId}/mqdefault.jpg`,alt:Ie(t.titleKey),className:"video-thumbnail-img"}),(0,e.jsx)("div",{className:"video-play-overlay"},(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M8 5V19L19 12L8 5Z",fill:"currentColor"})))),(0,e.jsx)("div",{className:"category-item-content"},(0,e.jsx)("div",{className:"category-item-title"},Ie(t.titleKey)))))))),(0,e.jsx)("div",{className:"category-section"},(0,e.jsx)("div",{className:"category-section-title"},Me().videosAndFiles.filesSection),(0,e.jsx)("div",{className:"category-items-list"},R.map((t=>(0,e.jsx)("button",{key:t.id,className:"category-item file-item",onClick:()=>(e=>{const t=document.createElement("a");t.href=e.url,t.download=Ae(e.nameKey),document.body.appendChild(t),t.click(),document.body.removeChild(t)})(t)},(0,e.jsx)("div",{className:"file-icon"},(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,e.jsx)("path",{d:"M14 2V8H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,e.jsx)("div",{className:"category-item-content"},(0,e.jsx)("div",{className:"category-item-title"},Ae(t.nameKey)),(0,e.jsx)("div",{className:"category-item-meta"},(0,e.jsx)("span",null,t.type),(0,e.jsx)("span",null,"•"),(0,e.jsx)("span",null,t.size),(0,e.jsx)("span",null,"•"),(0,e.jsx)("span",null,(e=>{const t=Me();switch(e){case"1h":return t.timeAgo.hoursAgo.replace("{n}","1");case"3h":return t.timeAgo.hoursAgo.replace("{n}","3");case"6h":return t.timeAgo.hoursAgo.replace("{n}","6");case"1d":return t.timeAgo.daysAgo.replace("{n}","1");case"2d":return t.timeAgo.daysAgo.replace("{n}","2");default:return e}})(t.timestampKey)))),(0,e.jsx)("div",{className:"file-download-icon"},(0,e.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5M10 12.5V2.5M10 12.5L6.66667 9.16667M10 12.5L13.3333 9.16667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))))))))))),document.body),C&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"video-player-backdrop",onClick:Ge}),(0,e.jsx)("div",{className:"video-player-modal"},(0,e.jsx)("button",{className:"video-player-close",onClick:Ge,"aria-label":Me().videoPlayer.closeButton},(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,e.jsx)("div",{className:"video-player-header"},(0,e.jsx)("h3",{className:"video-player-title"},Ie(C.titleKey))),(0,e.jsx)("div",{className:"video-player-container"},(0,e.jsx)("iframe",{className:"video-player",src:`https://www.youtube.com/embed/${C.youtubeId}?autoplay=1&rel=0`,title:Ie(C.titleKey),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})))),document.body),(0,e.jsx)("div",{className:"header-color-selector"},(0,e.jsx)("button",{ref:ce,className:"icon-button color-button "+(h?"open":""),onClick:()=>x(!h),"aria-expanded":h,"aria-haspopup":"true"},(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("defs",null,(0,e.jsx)("linearGradient",{id:"iconGradientHover",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},(0,e.jsx)("stop",{offset:"0%",stopColor:"#1487C5"}),(0,e.jsx)("stop",{offset:"100%",stopColor:"#011AFE"}))),(0,e.jsx)("path",{d:"M8.50299 0.20289C11.5907 -0.358302 15.2003 0.272508 18.0661 1.75123C20.9127 3.22005 23.2541 5.66092 23.3309 8.84438C23.3592 10.0238 23.1416 11.0163 22.6986 11.8289C22.2529 12.6464 21.6081 13.2268 20.8709 13.6214C19.4337 14.3907 17.6432 14.4591 16.153 14.3319C15.8544 14.3065 15.4974 14.4798 15.2426 14.8625C14.9859 15.248 14.9672 15.6437 15.0965 15.8943C15.4141 16.5095 15.8506 17.0613 16.3821 17.5209L16.6158 17.7126L16.6251 17.7196L16.6345 17.7278C17.3919 18.3494 17.9137 19.0885 17.9481 19.9328C17.9833 20.8026 17.4929 21.4843 16.8986 21.9521C15.7438 22.8611 13.7742 23.3333 11.7904 23.3333C9.64285 23.3332 7.00362 22.2705 4.80653 20.5662C2.59781 18.8528 0.696216 16.3825 0.190348 13.4298C-0.807041 7.60621 2.13727 1.35996 8.50299 0.20289ZM17.2434 3.34631C14.6938 2.03078 11.4841 1.48527 8.82437 1.96858C3.69507 2.90091 1.07851 7.98013 1.95969 13.126C2.36727 15.5058 3.93205 17.6152 5.90741 19.1476C7.89423 20.6887 10.156 21.5383 11.7904 21.5384C13.5888 21.5384 15.0865 21.0941 15.7884 20.5416C16.1217 20.2792 16.1576 20.094 16.1542 20.0064C16.1496 19.8937 16.0683 19.5844 15.4962 19.1148H15.495C14.6628 18.4653 13.9818 17.6477 13.5013 16.717C12.9955 15.7365 13.2347 14.6375 13.7479 13.8668C14.2632 13.0933 15.1892 12.4487 16.3061 12.544C17.6891 12.662 19.0517 12.5594 20.0236 12.0392C20.4908 11.7891 20.8644 11.4448 21.1233 10.97C21.3848 10.4904 21.5583 9.82351 21.5358 8.88762C21.4817 6.64389 19.8121 4.67185 17.2434 3.34631ZM9.63191 15.4152C9.63191 14.7576 9.07392 14.1756 8.32418 14.1753C7.5742 14.1753 7.01529 14.7574 7.01529 15.4152C7.01555 16.0728 7.57437 16.6539 8.32418 16.6539C9.07375 16.6536 9.63165 16.0726 9.63191 15.4152ZM9.002 8.08832C9.002 7.43056 8.4431 6.84848 7.69311 6.84848C6.94323 6.84859 6.38422 7.43063 6.38422 8.08832C6.38422 8.74601 6.94323 9.32805 7.69311 9.32816C8.4431 9.32816 9.002 8.74608 9.002 8.08832ZM17.1966 8.08832C17.1966 7.43056 16.6377 6.84848 15.8877 6.84848C15.1379 6.84866 14.5788 7.43066 14.5788 8.08832C14.5788 8.74598 15.1379 9.32799 15.8877 9.32816C16.6377 9.32816 17.1966 8.74608 17.1966 8.08832ZM11.427 15.4152C11.4267 17.1174 10.0108 18.4485 8.32418 18.4488C6.63734 18.4488 5.22049 17.1175 5.22024 15.4152C5.22024 13.7126 6.63719 12.3804 8.32418 12.3804C10.011 12.3807 11.427 13.7128 11.427 15.4152ZM10.7971 8.08832C10.7971 9.79088 9.3801 11.1231 7.69311 11.1231C6.00621 11.123 4.58917 9.79081 4.58916 8.08832C4.58916 6.38583 6.00621 5.05369 7.69311 5.05358C9.38011 5.05358 10.7971 6.38576 10.7971 8.08832ZM18.9917 8.08832C18.9917 9.79088 17.5747 11.1231 15.8877 11.1231C14.2009 11.1229 12.7838 9.79077 12.7838 8.08832C12.7838 6.38587 14.2009 5.05376 15.8877 5.05358C17.5747 5.05358 18.9917 6.38576 18.9917 8.08832Z",fill:"currentColor"}))),h&&xe&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"color-dropdown-backdrop",onClick:()=>x(!1)}),(0,e.jsx)("div",{ref:oe,className:"color-dropdown-menu",style:{position:"fixed",top:`${xe.top}px`,right:`${xe.right}px`}},(0,e.jsx)("div",{className:"color-dropdown-header"},(0,e.jsx)("h3",{className:"color-dropdown-title"},Me().themeSwitch.title)),(0,e.jsx)("div",{className:"theme-options-container"},ze.map((t=>(0,e.jsx)("button",{key:t.value,className:"theme-option "+(L===t.value?"selected":""),style:{background:t.gradient},onClick:()=>{return e=t.value,E(e),localStorage.setItem("selectedThemeColor",e),x(!1),void window.dispatchEvent(new CustomEvent("theme-color-changed",{detail:{color:e}}));var e},"aria-label":t.label},L===t.value&&(0,e.jsx)("svg",{className:"theme-check-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("circle",{cx:"10",cy:"10",r:"9",fill:"white"}),(0,e.jsx)("path",{d:"M6 10L9 13L14 7",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,e.jsx)("span",{className:"theme-name"},t.label))))))),document.body)),(0,e.jsx)("div",{className:"header-language-selector"},(0,e.jsx)("button",{ref:le,className:"icon-button language-button "+(u?"open":""),onClick:()=>g(!u),"aria-expanded":u,"aria-haspopup":"true"},(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M23.872 14C23.872 13.3557 23.8084 12.7267 23.6908 12.1175C22.6383 13.6852 21.2166 14.9834 19.5484 15.8872C19.3439 17.3853 18.9139 18.9574 18.3027 20.4083C17.8309 21.5283 17.2349 22.6106 16.5265 23.5435C20.7544 22.4272 23.872 18.5786 23.872 14ZM17.5794 16.7286C16.4514 17.0919 15.2492 17.2906 14.0002 17.2906C12.7508 17.2906 11.548 17.0921 10.4198 16.7286C10.6306 17.7257 10.9451 18.7452 11.3523 19.7118C12.0449 21.356 12.965 22.7573 14.0002 23.6428C15.0354 22.7573 15.9555 21.356 16.6481 19.7118C17.0552 18.7453 17.3686 17.7256 17.5794 16.7286ZM14.0002 4.35611C12.9647 5.24155 12.045 6.64379 11.3523 8.28824C10.5564 10.1776 10.1113 12.2685 10.1113 14C10.1113 14.2302 10.1192 14.4667 10.1346 14.7082C11.3222 15.2141 12.6282 15.4958 14.0002 15.4958C15.3717 15.4958 16.6772 15.2138 17.8645 14.7082C17.88 14.4666 17.8891 14.2302 17.8891 14C17.8891 12.2685 17.444 10.1776 16.6481 8.28824C15.9553 6.64379 15.0356 5.24155 14.0002 4.35611ZM11.4726 4.45544C8.62845 5.20659 6.28653 7.19489 5.05852 9.81201C5.79176 11.3747 6.92251 12.7125 8.31991 13.6974C8.3676 11.7658 8.86576 9.56662 9.69761 7.59179C10.1694 6.47175 10.7642 5.38831 11.4726 4.45544ZM16.5265 4.45544C17.2351 5.38844 17.8308 6.47152 18.3027 7.59179C19.1346 9.56661 19.6316 11.7658 19.6792 13.6974C21.0769 12.7125 22.2073 11.3748 22.9406 9.81201C21.7124 7.19478 19.371 5.20632 16.5265 4.45544ZM4.12837 14C4.12837 18.5783 7.24535 22.4269 11.4726 23.5435C10.7645 22.6108 10.1693 21.528 9.69761 20.4083C9.08642 18.9573 8.65527 17.3853 8.45078 15.8872C6.78274 14.9833 5.36066 13.6851 4.30832 12.1175C4.19078 12.7266 4.12837 13.3558 4.12837 14ZM25.6668 14C25.6668 20.4434 20.4435 25.6667 14.0002 25.6667C7.55684 25.6667 2.3335 20.4434 2.3335 14C2.3335 12.3925 2.6587 10.8585 3.24846 9.46261L3.4214 9.07349C5.27783 5.09373 9.31584 2.33337 14.0002 2.33337C18.8357 2.33337 22.9825 5.27483 24.7519 9.46261L24.9599 9.99313C25.4172 11.2437 25.6668 12.5936 25.6668 14Z",fill:"currentColor"}))),u&&ge&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"language-dropdown-backdrop",onClick:()=>g(!1)}),(0,e.jsx)("div",{ref:ee,className:"language-dropdown-menu",style:{position:"fixed",top:`${ge.top}px`,right:`${ge.right}px`}},(0,e.jsx)("div",{className:"language-items-list"},(0,e.jsx)("button",{className:"language-dropdown-item "+("uz-Latn"===S?"active":""),onClick:()=>We("uz-Latn")},(0,e.jsx)("div",{className:"language-item-content"},Be("uz-Latn"),(0,e.jsx)("span",{className:"language-item-label"},"O'zbekcha")),"uz-Latn"===S&&(0,e.jsx)("svg",{className:"language-check-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,e.jsx)("button",{className:"language-dropdown-item "+("uz-Cyrl"===S?"active":""),onClick:()=>We("uz-Cyrl")},(0,e.jsx)("div",{className:"language-item-content"},Be("uz-Cyrl"),(0,e.jsx)("span",{className:"language-item-label"},"Ўзбекча")),"uz-Cyrl"===S&&(0,e.jsx)("svg",{className:"language-check-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,e.jsx)("button",{className:"language-dropdown-item "+("ru"===S?"active":""),onClick:()=>We("ru")},(0,e.jsx)("div",{className:"language-item-content"},Be("ru"),(0,e.jsx)("span",{className:"language-item-label"},"Русский")),"ru"===S&&(0,e.jsx)("svg",{className:"language-check-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M13.3333 4L6 11.3333L2.66667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))),document.body))),(0,e.jsx)("div",{className:"header-profile-selector"},(0,e.jsx)("button",{ref:se,className:"user-avatar profile-button "+(m?"open":""),onClick:()=>f(!m),"aria-expanded":m,"aria-haspopup":"true",title:je},Se),m&&fe&&(0,o.createPortal)((0,e.jsx)(e.React.Fragment,null,(0,e.jsx)("div",{className:"profile-dropdown-backdrop",onClick:()=>f(!1)}),(0,e.jsx)("div",{ref:te,className:"profile-dropdown-menu",style:{position:"fixed",top:`${fe.top}px`,right:`${fe.right}px`,"--logout-color":M.primary,"--logout-color-hover":M.light,"--logout-bg-hover":`rgba(${Oe}, ${De}, ${Ye}, 0.2)`}},(0,e.jsx)("div",{className:"profile-dropdown-header"},(0,e.jsx)("div",{className:"profile-dropdown-email"},(0,e.jsx)("span",{className:"profile-email-value"},je))),(0,e.jsx)("button",{className:"profile-dropdown-item logout-item",onClick:()=>W(void 0,void 0,void 0,(function*(){f(!1);try{const[t]=yield(0,e.loadArcGISJSAPIModules)(["esri/identity/IdentityManager"]);t.destroyCredentials(),sessionStorage.clear(),localStorage.clear(),document.cookie.split(";").forEach((e=>{const[t]=e.trim().split("=");document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=gis.uzspace.uz`,document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.uzspace.uz`,document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}));const o="https://gis.uzspace.uz/uzspace/sharing/rest/oauth2/signout?redirect_uri=https://gis.uzspace.uz/uzspace/home/signin.html";window.location.href=o,setTimeout((()=>{window.location.href="https://gis.uzspace.uz/uzspace/home/signin.html"}),1e3)}catch(e){window.location.href="https://gis.uzspace.uz/uzspace/home/signin.html"}})),style:{color:M.primary,"--logout-color":M.primary,"--logout-color-hover":M.light}},(0,e.jsx)("svg",{className:"logout-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.jsx)("path",{d:"M6 14H3C2.46957 14 1.96086 13.7893 1.58579 13.4142C1.21071 13.0391 1 12.5304 1 12V4C1 3.46957 1.21071 2.96086 1.58579 2.58579C1.96086 2.21071 2.46957 2 3 2H6M11 11L15 8M15 8L11 5M15 8H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,e.jsx)("span",null,(Ee[S]||Ee.ru).logout)))),document.body)))),(0,e.jsx)(N,{isOpen:_,onClose:()=>j(!1),currentLocale:S}))};function F(e){n.p=e}})(),i})())}}}));